{"ast":null,"code":"var _jsxFileName = \"/Users/dhirajbalayar/Desktop/fashion/frontend/src/pages/Measure.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport * as tf from '@tensorflow/tfjs';\nimport '@tensorflow/tfjs-backend-webgl'; // use webgl backend\nimport * as posedetection from '@tensorflow-models/pose-detection';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Measure = () => {\n  _s();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    const setup = async () => {\n      await tf.setBackend('webgl');\n      await tf.ready(); // wait for TensorFlow to be ready\n\n      const detector = await posedetection.createDetector(posedetection.SupportedModels.MoveNet, {\n        modelType: 'SinglePose.Lightning'\n      });\n      const video = videoRef.current;\n\n      // Get webcam\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: true\n      });\n      video.srcObject = stream;\n      video.onloadedmetadata = () => {\n        video.play();\n        detectPose(video, detector);\n      };\n    };\n    const detectPose = async (video, detector) => {\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext('2d');\n      const detect = async () => {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        const poses = await detector.estimatePoses(video);\n        if (poses.length > 0) {\n          poses[0].keypoints.forEach(keypoint => {\n            if (keypoint.score > 0.4) {\n              ctx.beginPath();\n              ctx.arc(keypoint.x, keypoint.y, 5, 0, 2 * Math.PI);\n              ctx.fillStyle = 'red';\n              ctx.fill();\n            }\n          });\n        }\n        requestAnimationFrame(() => detect());\n      };\n      detect();\n    };\n    setup();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-black min-h-screen flex flex-col items-center justify-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-purple-400 text-2xl font-bold mb-4\",\n      children: \"AI Body Landmarks\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        width: \"640\",\n        height: \"480\",\n        className: \"border-2 border-purple-500\",\n        style: {\n          position: 'absolute',\n          top: 0,\n          left: 0\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        width: \"640\",\n        height: \"480\",\n        className: \"border-2 border-purple-500\",\n        style: {\n          position: 'absolute',\n          top: 0,\n          left: 0\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(Measure, \"0gwqVvoOV2or9Ql4L8GH2BGn3hc=\");\n_c = Measure;\nexport default Measure;\nvar _c;\n$RefreshReg$(_c, \"Measure\");","map":{"version":3,"names":["React","useEffect","useRef","tf","posedetection","jsxDEV","_jsxDEV","Measure","_s","videoRef","canvasRef","setup","setBackend","ready","detector","createDetector","SupportedModels","MoveNet","modelType","video","current","stream","navigator","mediaDevices","getUserMedia","srcObject","onloadedmetadata","play","detectPose","canvas","ctx","getContext","detect","clearRect","width","height","poses","estimatePoses","length","keypoints","forEach","keypoint","score","beginPath","arc","x","y","Math","PI","fillStyle","fill","requestAnimationFrame","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","style","position","top","left","_c","$RefreshReg$"],"sources":["/Users/dhirajbalayar/Desktop/fashion/frontend/src/pages/Measure.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport * as tf from '@tensorflow/tfjs';\nimport '@tensorflow/tfjs-backend-webgl'; // use webgl backend\nimport * as posedetection from '@tensorflow-models/pose-detection';\n\nconst Measure = () => {\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n\n  useEffect(() => {\n    const setup = async () => {\n      await tf.setBackend('webgl');\n      await tf.ready(); // wait for TensorFlow to be ready\n\n      const detector = await posedetection.createDetector(\n        posedetection.SupportedModels.MoveNet,\n        { modelType: 'SinglePose.Lightning' }\n      );\n\n      const video = videoRef.current;\n\n      // Get webcam\n      const stream = await navigator.mediaDevices.getUserMedia({ video: true });\n      video.srcObject = stream;\n\n      video.onloadedmetadata = () => {\n        video.play();\n        detectPose(video, detector);\n      };\n    };\n\n    const detectPose = async (video, detector) => {\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext('2d');\n\n      const detect = async () => {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        const poses = await detector.estimatePoses(video);\n        if (poses.length > 0) {\n          poses[0].keypoints.forEach((keypoint) => {\n            if (keypoint.score > 0.4) {\n              ctx.beginPath();\n              ctx.arc(keypoint.x, keypoint.y, 5, 0, 2 * Math.PI);\n              ctx.fillStyle = 'red';\n              ctx.fill();\n            }\n          });\n        }\n        requestAnimationFrame(() => detect());\n      };\n      detect();\n    };\n\n    setup();\n  }, []);\n\n  return (\n    <div className=\"bg-black min-h-screen flex flex-col items-center justify-center\">\n      <h2 className=\"text-purple-400 text-2xl font-bold mb-4\">AI Body Landmarks</h2>\n      <div className=\"relative\">\n        <video\n          ref={videoRef}\n          width=\"640\"\n          height=\"480\"\n          className=\"border-2 border-purple-500\"\n          style={{ position: 'absolute', top: 0, left: 0 }}\n        />\n        <canvas\n          ref={canvasRef}\n          width=\"640\"\n          height=\"480\"\n          className=\"border-2 border-purple-500\"\n          style={{ position: 'absolute', top: 0, left: 0 }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Measure;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}