{"ast":null,"code":"var _jsxFileName = \"/Users/dhirajbalayar/Desktop/fashion/frontend/src/pages/Measure.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/pages/Measure.jsx\nimport React, { useRef, useEffect, useState, useCallback } from \"react\";\nimport { Pose } from \"@mediapipe/pose\";\nimport { Camera } from \"@mediapipe/camera_utils\";\nimport { Camera as CameraIcon, Sparkles, Activity, Target, RotateCcw, Download } from 'lucide-react';\n\n/* ---------- Calibration ---------- */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst A4_WIDTH_CM = 21.0; // reference width\nconst CHEST_MULTIPLIER = 1.75; // shoulder flat → chest circumference (tune 1.70–1.85)\nconst UPPER_WAIST_FACTOR = 0.90; // hip width ≈ a bit wider than upper waist\n\n/* ---------- Overlay helpers ---------- */\nconst UPPER = [[0, 1], [1, 2], [2, 3], [3, 7], [0, 11], [0, 12], [11, 13], [13, 15], [12, 14], [14, 16], [11, 12], [11, 23], [12, 24]];\nconst LOWER = [[23, 25], [25, 27], [27, 31], [24, 26], [26, 28], [28, 32], [23, 24]];\nconst drawSeg = (ctx, lm, a, b, color, width, W, H) => {\n  var _A$visibility, _B$visibility;\n  const A = lm[a],\n    B = lm[b];\n  if (!A || !B) return;\n  if (((_A$visibility = A.visibility) !== null && _A$visibility !== void 0 ? _A$visibility : 0) < 0.4 || ((_B$visibility = B.visibility) !== null && _B$visibility !== void 0 ? _B$visibility : 0) < 0.4) return;\n  ctx.strokeStyle = color;\n  ctx.lineWidth = width;\n  ctx.beginPath();\n  ctx.moveTo(A.x * W, A.y * H);\n  ctx.lineTo(B.x * W, B.y * H);\n  ctx.stroke();\n};\nconst drawBBox = (ctx, lm, W, H, color = \"rgba(0,255,0,0.9)\") => {\n  const pts = lm.filter(p => {\n    var _p$visibility;\n    return ((_p$visibility = p === null || p === void 0 ? void 0 : p.visibility) !== null && _p$visibility !== void 0 ? _p$visibility : 0) > 0.4;\n  });\n  if (!pts.length) return;\n  const xs = pts.map(p => p.x * W),\n    ys = pts.map(p => p.y * H);\n  const minX = Math.max(0, Math.min(...xs)),\n    maxX = Math.min(W, Math.max(...xs));\n  const minY = Math.max(0, Math.min(...ys)),\n    maxY = Math.min(H, Math.max(...ys));\n  const pad = 8;\n  ctx.strokeStyle = color;\n  ctx.lineWidth = 3;\n  ctx.strokeRect(minX - pad, minY - pad, maxX - minX + pad * 2, maxY - minY + pad * 2);\n};\n\n/* ---------- T-Shirt Specific Measurements ---------- */\nconst getTshirtMeasurements = (chestCm, shoulderCm, waistCm, sleeveLengthCm = null, torsoLengthCm = null) => {\n  const measurements = {\n    essential: {\n      chest: chestCm,\n      shoulder: shoulderCm,\n      waist: waistCm\n    },\n    optional: {\n      sleeveLength: sleeveLengthCm,\n      torsoLength: torsoLengthCm\n    }\n  };\n\n  // T-shirt fit recommendations based on measurements\n  const fitRecommendations = [];\n\n  // Chest fit\n  if (chestCm < 85) {\n    fitRecommendations.push(\"Slim fit t-shirts recommended\");\n  } else if (chestCm > 105) {\n    fitRecommendations.push(\"Regular or relaxed fit t-shirts recommended\");\n  } else {\n    fitRecommendations.push(\"Standard fit t-shirts recommended\");\n  }\n\n  // Shoulder fit\n  if (shoulderCm < 40) {\n    fitRecommendations.push(\"Narrow shoulder t-shirts recommended\");\n  } else if (shoulderCm > 55) {\n    fitRecommendations.push(\"Wide shoulder t-shirts recommended\");\n  }\n\n  // Waist fit\n  if (waistCm < 70) {\n    fitRecommendations.push(\"Slim waist t-shirts recommended\");\n  } else if (waistCm > 90) {\n    fitRecommendations.push(\"Regular waist t-shirts recommended\");\n  }\n\n  // Sleeve recommendations\n  if (sleeveLengthCm) {\n    if (sleeveLengthCm < 20) {\n      fitRecommendations.push(\"Short sleeve t-shirts recommended\");\n    } else if (sleeveLengthCm > 30) {\n      fitRecommendations.push(\"Long sleeve t-shirts recommended\");\n    }\n  }\n\n  // Torso length recommendations\n  if (torsoLengthCm) {\n    if (torsoLengthCm < 60) {\n      fitRecommendations.push(\"Regular length t-shirts recommended\");\n    } else if (torsoLengthCm > 75) {\n      fitRecommendations.push(\"Long torso t-shirts recommended\");\n    }\n  }\n  return {\n    measurements,\n    fitRecommendations,\n    tshirtSize: recommendTopSize(chestCm, waistCm, shoulderCm)\n  };\n};\n\n/* ---------- Size recommendation (using all three measurements) ---------- */\nconst recommendTopSize = (chestCm, waistCm, shoulderCm) => {\n  if (!chestCm || !waistCm || !shoulderCm || chestCm <= 0 || waistCm <= 0 || shoulderCm <= 0) {\n    return null;\n  }\n\n  // UPPER BODY MEASUREMENT REQUIREMENTS:\n  // 1. Chest: Measured around the fullest part of the chest (bust for women, chest for men)\n  // 2. Shoulder: Measured across the back from shoulder tip to shoulder tip\n  // 3. Waist: Measured around the natural waistline (narrowest part of torso)\n\n  // REALISTIC SIZE RANGES FOR ADULTS (in cm):\n  // XXS: Chest 76-81, Shoulder 35-38, Waist 58-63\n  // XS:  Chest 81-86, Shoulder 38-41, Waist 63-68  \n  // S:   Chest 86-91, Shoulder 41-44, Waist 68-73\n  // M:   Chest 91-96, Shoulder 44-47, Waist 73-78\n  // L:   Chest 96-101, Shoulder 47-50, Waist 78-83\n  // XL:  Chest 101-106, Shoulder 50-53, Waist 83-88\n  // XXL: Chest 106-111, Shoulder 53-56, Waist 88-93\n  // 3XL: Chest 111-116, Shoulder 56-59, Waist 93-98\n  // 4XL: Chest 116+, Shoulder 59+, Waist 98+\n\n  // BALANCED SIZE CALCULATION - All 3 measurements matter equally!\n\n  // 1. Calculate individual size scores for each measurement\n  const getSizeScore = (value, ranges) => {\n    if (value < ranges.XXS.max) return 0; // XXS\n    if (value < ranges.XS.max) return 1; // XS\n    if (value < ranges.S.max) return 2; // S\n    if (value < ranges.M.max) return 3; // M\n    if (value < ranges.L.max) return 4; // L\n    if (value < ranges.XL.max) return 5; // XL\n    if (value < ranges.XXL.max) return 6; // XXL\n    if (value < ranges.threeXL.max) return 7; // 3XL\n    return 8; // 4XL\n  };\n\n  // Size ranges for each measurement type\n  const chestRanges = {\n    XXS: {\n      min: 0,\n      max: 81\n    },\n    XS: {\n      min: 81,\n      max: 86\n    },\n    S: {\n      min: 86,\n      max: 91\n    },\n    M: {\n      min: 91,\n      max: 96\n    },\n    L: {\n      min: 96,\n      max: 101\n    },\n    XL: {\n      min: 101,\n      max: 106\n    },\n    XXL: {\n      min: 106,\n      max: 111\n    },\n    threeXL: {\n      min: 111,\n      max: 116\n    },\n    fourXL: {\n      min: 116,\n      max: 999\n    }\n  };\n  const shoulderRanges = {\n    XXS: {\n      min: 0,\n      max: 38\n    },\n    XS: {\n      min: 38,\n      max: 41\n    },\n    S: {\n      min: 41,\n      max: 44\n    },\n    M: {\n      min: 44,\n      max: 47\n    },\n    L: {\n      min: 47,\n      max: 50\n    },\n    XL: {\n      min: 50,\n      max: 53\n    },\n    XXL: {\n      min: 53,\n      max: 56\n    },\n    threeXL: {\n      min: 56,\n      max: 59\n    },\n    fourXL: {\n      min: 59,\n      max: 999\n    }\n  };\n  const waistRanges = {\n    XXS: {\n      min: 0,\n      max: 63\n    },\n    XS: {\n      min: 63,\n      max: 68\n    },\n    S: {\n      min: 68,\n      max: 73\n    },\n    M: {\n      min: 73,\n      max: 78\n    },\n    L: {\n      min: 78,\n      max: 83\n    },\n    XL: {\n      min: 83,\n      max: 88\n    },\n    XXL: {\n      min: 88,\n      max: 93\n    },\n    threeXL: {\n      min: 93,\n      max: 98\n    },\n    fourXL: {\n      min: 98,\n      max: 999\n    }\n  };\n\n  // 2. Get individual size scores\n  const chestScore = getSizeScore(chestCm, chestRanges);\n  const shoulderScore = getSizeScore(shoulderCm, shoulderRanges);\n  const waistScore = getSizeScore(waistCm, waistRanges);\n\n  // 3. Calculate weighted average (all measurements equally important)\n  const averageScore = (chestScore + shoulderScore + waistScore) / 3;\n\n  // 4. Apply body proportion adjustments\n  let finalScore = averageScore;\n\n  // Waist-to-chest ratio adjustment (body shape indicator)\n  const waistChestRatio = waistCm / chestCm;\n  if (waistChestRatio < 0.70) {\n    // Very slim/athletic build - go down slightly\n    finalScore -= 0.3;\n  } else if (waistChestRatio > 0.90) {\n    // Fuller build - go up slightly\n    finalScore += 0.3;\n  }\n\n  // Shoulder-to-chest ratio adjustment (shoulder width indicator)\n  const shoulderChestRatio = shoulderCm / chestCm;\n  if (shoulderChestRatio > 0.60) {\n    // Very broad shoulders - go up slightly\n    finalScore += 0.2;\n  } else if (shoulderChestRatio < 0.40) {\n    // Very narrow shoulders - go down slightly\n    finalScore -= 0.2;\n  }\n\n  // 5. Convert score to size with bounds checking\n  const sizeOrder = ['XXS', 'XS', 'S', 'M', 'L', 'XL', 'XXL', '3XL', '4XL'];\n  const sizeIndex = Math.max(0, Math.min(sizeOrder.length - 1, Math.round(finalScore)));\n  const finalSize = sizeOrder[sizeIndex];\n\n  // 6. Enhanced logging for debugging\n  console.log(`🎯 BALANCED UPPER BODY SIZE CALCULATION:`, {\n    measurements: {\n      chestCm: chestCm.toFixed(1),\n      shoulderCm: shoulderCm.toFixed(1),\n      waistCm: waistCm.toFixed(1)\n    },\n    individualScores: {\n      chestScore: `${chestScore} (${sizeOrder[chestScore]})`,\n      shoulderScore: `${shoulderScore} (${sizeOrder[chestScore]})`,\n      waistScore: `${waistScore} (${sizeOrder[waistScore]})`\n    },\n    calculation: {\n      averageScore: averageScore.toFixed(2),\n      proportionAdjustments: {\n        waistChestRatio: waistChestRatio.toFixed(3),\n        shoulderChestRatio: shoulderChestRatio.toFixed(3)\n      },\n      finalScore: finalScore.toFixed(2),\n      finalSize\n    },\n    recommendations: {\n      fit: getFitRecommendation(chestCm, shoulderCm, waistCm),\n      style: getStyleRecommendation(chestCm, shoulderCm),\n      dominantMeasurement: getDominantMeasurement(chestCm, shoulderCm, waistCm)\n    }\n  });\n  return finalSize;\n};\n\n// Helper function to identify which measurement is most dominant\nconst getDominantMeasurement = (chestCm, shoulderCm, waistCm) => {\n  const chestScore = Math.abs(chestCm - 96); // Distance from M size (96cm)\n  const shoulderScore = Math.abs(shoulderCm - 45.5); // Distance from M size (45.5cm)\n  const waistScore = Math.abs(waistCm - 75.5); // Distance from M size (75.5cm)\n\n  const minScore = Math.min(chestScore, shoulderScore, waistScore);\n  if (minScore === chestScore) return \"Chest measurement is most dominant\";\n  if (minScore === shoulderScore) return \"Shoulder measurement is most dominant\";\n  return \"Waist measurement is most dominant\";\n};\n\n// Helper functions for t-shirt size ranges\nconst getChestRangeForSize = size => {\n  const ranges = {\n    'XXS': '76-81 cm',\n    'XS': '81-86 cm',\n    'S': '86-91 cm',\n    'M': '91-96 cm',\n    'L': '96-101 cm',\n    'XL': '101-106 cm',\n    'XXL': '106-111 cm',\n    '3XL': '111-116 cm',\n    '4XL': '116+ cm'\n  };\n  return ranges[size] || 'N/A';\n};\nconst getShoulderRangeForSize = size => {\n  const ranges = {\n    'XXS': '35-38 cm',\n    'XS': '38-41 cm',\n    'S': '41-44 cm',\n    'M': '44-47 cm',\n    'L': '47-50 cm',\n    'XL': '50-53 cm',\n    'XXL': '53-56 cm',\n    '3XL': '56-59 cm',\n    '4XL': '59+ cm'\n  };\n  return ranges[size] || 'N/A';\n};\n\n// Helper function to validate measurements\nconst validateMeasurements = (chestCm, shoulderCm, waistCm) => {\n  const warnings = [];\n  const errors = [];\n\n  // Check for unrealistic measurements\n  if (chestCm < 60 || chestCm > 150) {\n    errors.push(`Chest measurement (${chestCm}cm) seems unrealistic. Expected range: 60-150cm`);\n  } else if (chestCm < 70 || chestCm > 130) {\n    warnings.push(`Chest measurement (${chestCm}cm) is outside normal adult range (70-130cm)`);\n  }\n  if (shoulderCm < 25 || shoulderCm > 80) {\n    errors.push(`Shoulder measurement (${shoulderCm}cm) seems unrealistic. Expected range: 25-80cm`);\n  } else if (shoulderCm < 35 || shoulderCm > 65) {\n    warnings.push(`Shoulder measurement (${shoulderCm}cm) is outside normal adult range (35-65cm)`);\n  }\n  if (waistCm < 40 || waistCm > 120) {\n    errors.push(`Waist measurement (${waistCm}cm) seems unrealistic. Expected range: 40-120cm`);\n  } else if (waistCm < 55 || waistCm > 100) {\n    warnings.push(`Waist measurement (${waistCm}cm) is outside normal adult range (55-100cm)`);\n  }\n\n  // Check for proportion issues\n  if (chestCm && shoulderCm && waistCm) {\n    const shoulderChestRatio = shoulderCm / chestCm;\n    const waistChestRatio = waistCm / chestCm;\n    if (shoulderChestRatio < 0.3 || shoulderChestRatio > 0.8) {\n      warnings.push(`Shoulder-to-chest ratio (${shoulderChestRatio.toFixed(2)}) seems unusual. Expected: 0.4-0.7`);\n    }\n    if (waistChestRatio < 0.5 || waistChestRatio > 1.1) {\n      warnings.push(`Waist-to-chest ratio (${waistChestRatio.toFixed(2)}) seems unusual. Expected: 0.6-1.0`);\n    }\n  }\n  return {\n    warnings,\n    errors,\n    isValid: errors.length === 0\n  };\n};\n\n// Helper function to recommend fit type\nconst getFitRecommendation = (chestCm, shoulderCm, waistCm) => {\n  if (!chestCm || !shoulderCm || !waistCm) return \"Standard fit recommended\";\n  const shoulderChestRatio = shoulderCm / chestCm;\n  const waistChestRatio = waistCm / chestCm;\n  if (shoulderChestRatio > 0.55 && waistChestRatio < 0.80) {\n    return \"Athletic fit recommended (broad shoulders, slim waist)\";\n  } else if (shoulderChestRatio < 0.45 && waistChestRatio > 0.85) {\n    return \"Relaxed fit recommended (narrow shoulders, fuller waist)\";\n  } else if (waistChestRatio < 0.75) {\n    return \"Slim fit recommended (athletic build)\";\n  } else if (waistChestRatio > 0.90) {\n    return \"Regular/comfortable fit recommended\";\n  }\n  return \"Standard fit recommended\";\n};\n\n// Helper function to recommend style\nconst getStyleRecommendation = (chestCm, shoulderCm) => {\n  if (!chestCm || !shoulderCm) return \"Regular style recommended\";\n  const ratio = chestCm / shoulderCm;\n  if (ratio < 2.0) {\n    return \"Consider relaxed/oversized styles\";\n  } else if (ratio > 2.5) {\n    return \"Consider fitted/tailored styles\";\n  }\n  return \"Regular style recommended\";\n};\n\n// Optional style hint based on proportions (very light heuristic)\nconst styleHint = (chestCm, shoulderCm) => {\n  if (!chestCm || !shoulderCm) return \"\";\n  const ratio = chestCm / (shoulderCm || 1); // ~3–5 normal range\n  if (ratio < 3.6) return \"Try regular/relaxed fits.\";\n  if (ratio > 4.6) return \"Slim or tailored fits may suit better.\";\n  return \"Regular fit is likely comfortable.\";\n};\n\n// Add error handling wrapper at the top of the component\nconst MediaPipeErrorBoundary = ({\n  children\n}) => {\n  _s();\n  const [hasError, setHasError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  if (hasError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-indigo-900 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/95 backdrop-blur-md rounded-3xl p-8 max-w-lg text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-2xl\",\n            children: \"\\u26A0\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-800 mb-4\",\n          children: \"MediaPipe Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-6\",\n          children: errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => window.location.reload(),\n            className: \"w-full bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-xl font-medium\",\n            children: \"\\uD83D\\uDD04 Refresh Page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setHasError(false),\n            className: \"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 px-6 py-3 rounded-xl font-medium\",\n            children: \"\\uD83D\\uDEAB Dismiss\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(ErrorBoundary, {\n    onError: error => {\n      console.error('MediaPipe Error:', error);\n      setErrorMessage(error.message || 'An error occurred with MediaPipe');\n      setHasError(true);\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 411,\n    columnNumber: 5\n  }, this);\n};\n\n// Simple ErrorBoundary component\n_s(MediaPipeErrorBoundary, \"xvQka5R1R2AC6iv/NclJPOwpfhU=\");\n_c = MediaPipeErrorBoundary;\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasError: false\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      hasError: true\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    if (this.props.onError) {\n      this.props.onError(error);\n    }\n  }\n  render() {\n    if (this.state.hasError) {\n      return null; // Let parent handle the error display\n    }\n    return this.props.children;\n  }\n}\n\n/* ---------- Complete Upper Body Measurement System ---------- */\nconst getCompleteUpperBodyMeasurements = (chestCm, shoulderCm, waistCm, neckCm = null, armLengthCm = null, bicepCm = null, backWidthCm = null, torsoLengthCm = null) => {\n  const measurements = {\n    essential: {\n      chest: chestCm,\n      shoulder: shoulderCm,\n      waist: waistCm\n    },\n    additional: {\n      neck: neckCm,\n      armLength: armLengthCm,\n      bicep: bicepCm,\n      backWidth: backWidthCm,\n      torsoLength: torsoLengthCm\n    }\n  };\n\n  // Comprehensive fit recommendations for different clothing types\n  const clothingRecommendations = {\n    tshirts: getTshirtRecommendations(chestCm, shoulderCm, waistCm, bicepCm),\n    shirts: getShirtRecommendations(chestCm, shoulderCm, waistCm, neckCm, armLengthCm),\n    polos: getPoloRecommendations(chestCm, shoulderCm, waistCm, neckCm, armLengthCm),\n    sweaters: getSweaterRecommendations(chestCm, shoulderCm, waistCm, bicepCm, torsoLengthCm),\n    jackets: getJacketRecommendations(chestCm, shoulderCm, waistCm, backWidthCm, armLengthCm)\n  };\n  return {\n    measurements,\n    clothingRecommendations,\n    overallSize: recommendCompleteUpperBodySize(chestCm, shoulderCm, waistCm, neckCm, armLengthCm, bicepCm, backWidthCm, torsoLengthCm)\n  };\n};\n\n// T-shirt specific recommendations\nconst getTshirtRecommendations = (chestCm, shoulderCm, waistCm, bicepCm) => {\n  const recommendations = [];\n\n  // Fit type based on chest and waist ratio\n  const waistChestRatio = waistCm / chestCm;\n  if (waistChestRatio < 0.70) {\n    recommendations.push(\"Slim fit t-shirts recommended\");\n  } else if (waistChestRatio > 0.90) {\n    recommendations.push(\"Regular or relaxed fit t-shirts recommended\");\n  } else {\n    recommendations.push(\"Standard fit t-shirts recommended\");\n  }\n\n  // Sleeve fit based on bicep\n  if (bicepCm && bicepCm > 40) {\n    recommendations.push(\"Look for t-shirts with stretchy or loose sleeves\");\n  }\n  return recommendations;\n};\n\n// Shirt specific recommendations\nconst getShirtRecommendations = (chestCm, shoulderCm, waistCm, neckCm, armLengthCm) => {\n  const recommendations = [];\n\n  // Collar size if neck measurement available\n  if (neckCm) {\n    if (neckCm < 35) recommendations.push(\"Small collar size (14-15 inches)\");else if (neckCm < 40) recommendations.push(\"Medium collar size (15-16 inches)\");else if (neckCm < 45) recommendations.push(\"Large collar size (16-17 inches)\");else recommendations.push(\"Extra large collar size (17+ inches)\");\n  }\n\n  // Sleeve length if arm length available\n  if (armLengthCm) {\n    if (armLengthCm < 60) recommendations.push(\"Short sleeve shirts recommended\");else if (armLengthCm < 70) recommendations.push(\"Regular sleeve shirts recommended\");else recommendations.push(\"Long sleeve shirts with custom sleeve length\");\n  }\n\n  // Fit type\n  const waistChestRatio = waistCm / chestCm;\n  if (waistChestRatio < 0.75) {\n    recommendations.push(\"Slim fit shirts recommended\");\n  } else if (waistChestRatio > 0.85) {\n    recommendations.push(\"Regular or classic fit shirts recommended\");\n  } else {\n    recommendations.push(\"Standard fit shirts recommended\");\n  }\n  return recommendations;\n};\n\n// Polo specific recommendations\nconst getPoloRecommendations = (chestCm, shoulderCm, waistCm, neckCm, armLengthCm) => {\n  const recommendations = [];\n\n  // Collar recommendations\n  if (neckCm) {\n    if (neckCm < 38) recommendations.push(\"Small polo collar recommended\");else if (neckCm < 43) recommendations.push(\"Medium polo collar recommended\");else recommendations.push(\"Large polo collar recommended\");\n  }\n\n  // Fit recommendations\n  const waistChestRatio = waistCm / chestCm;\n  if (waistChestRatio < 0.75) {\n    recommendations.push(\"Slim fit polos recommended\");\n  } else if (waistChestRatio > 0.85) {\n    recommendations.push(\"Regular fit polos recommended\");\n  } else {\n    recommendations.push(\"Standard fit polos recommended\");\n  }\n  return recommendations;\n};\n\n// Sweater specific recommendations\nconst getSweaterRecommendations = (chestCm, shoulderCm, waistCm, bicepCm, torsoLengthCm) => {\n  const recommendations = [];\n\n  // Fit type\n  const waistChestRatio = waistCm / chestCm;\n  if (waistChestRatio < 0.75) {\n    recommendations.push(\"Slim fit sweaters recommended\");\n  } else if (waistChestRatio > 0.85) {\n    recommendations.push(\"Regular or relaxed fit sweaters recommended\");\n  } else {\n    recommendations.push(\"Standard fit sweaters recommended\");\n  }\n\n  // Length recommendations\n  if (torsoLengthCm) {\n    if (torsoLengthCm < 65) recommendations.push(\"Regular length sweaters recommended\");else if (torsoLengthCm > 75) recommendations.push(\"Long torso sweaters recommended\");\n  }\n  return recommendations;\n};\n\n// Jacket specific recommendations\nconst getJacketRecommendations = (chestCm, shoulderCm, waistCm, backWidthCm, armLengthCm) => {\n  const recommendations = [];\n\n  // Fit type\n  const waistChestRatio = waistCm / chestCm;\n  if (waistChestRatio < 0.75) {\n    recommendations.push(\"Slim fit jackets recommended\");\n  } else if (waistChestRatio > 0.85) {\n    recommendations.push(\"Regular or classic fit jackets recommended\");\n  } else {\n    recommendations.push(\"Standard fit jackets recommended\");\n  }\n\n  // Sleeve length\n  if (armLengthCm) {\n    if (armLengthCm < 60) recommendations.push(\"Short sleeve jackets recommended\");else if (armLengthCm < 70) recommendations.push(\"Regular sleeve jackets recommended\");else recommendations.push(\"Long sleeve jackets recommended\");\n  }\n  return recommendations;\n};\n\n/* ---------- Complete Upper Body Size Recommendation ---------- */\nconst recommendCompleteUpperBodySize = (chestCm, shoulderCm, waistCm, neckCm = null, armLengthCm = null, bicepCm = null, backWidthCm = null, torsoLengthCm = null) => {\n  if (!chestCm || !shoulderCm || !waistCm || chestCm <= 0 || shoulderCm <= 0 || waistCm <= 0) {\n    return null;\n  }\n\n  // COMPREHENSIVE UPPER BODY SIZE CALCULATION\n  // All measurements contribute to the final size recommendation\n\n  // 1. Calculate individual size scores for each measurement\n  const getSizeScore = (value, ranges) => {\n    if (value < ranges.XXS.max) return 0; // XXS\n    if (value < ranges.XS.max) return 1; // XS\n    if (value < ranges.S.max) return 2; // S\n    if (value < ranges.M.max) return 3; // M\n    if (value < ranges.L.max) return 4; // L\n    if (value < ranges.XL.max) return 5; // XL\n    if (value < ranges.XXL.max) return 6; // XXL\n    if (value < ranges.threeXL.max) return 7; // 3XL\n    return 8; // 4XL\n  };\n\n  // Comprehensive size ranges for all measurements\n  const measurementRanges = {\n    chest: {\n      XXS: {\n        min: 0,\n        max: 81\n      },\n      XS: {\n        min: 81,\n        max: 86\n      },\n      S: {\n        min: 86,\n        max: 91\n      },\n      M: {\n        min: 91,\n        max: 96\n      },\n      L: {\n        min: 96,\n        max: 101\n      },\n      XL: {\n        min: 101,\n        max: 106\n      },\n      XXL: {\n        min: 106,\n        max: 111\n      },\n      threeXL: {\n        min: 111,\n        max: 116\n      },\n      fourXL: {\n        min: 116,\n        max: 999\n      }\n    },\n    shoulder: {\n      XXS: {\n        min: 0,\n        max: 38\n      },\n      XS: {\n        min: 38,\n        max: 41\n      },\n      S: {\n        min: 41,\n        max: 44\n      },\n      M: {\n        min: 44,\n        max: 47\n      },\n      L: {\n        min: 47,\n        max: 50\n      },\n      XL: {\n        min: 50,\n        max: 53\n      },\n      XXL: {\n        min: 53,\n        max: 56\n      },\n      threeXL: {\n        min: 56,\n        max: 59\n      },\n      fourXL: {\n        min: 59,\n        max: 999\n      }\n    },\n    waist: {\n      XXS: {\n        min: 0,\n        max: 63\n      },\n      XS: {\n        min: 63,\n        max: 68\n      },\n      S: {\n        min: 68,\n        max: 73\n      },\n      M: {\n        min: 73,\n        max: 78\n      },\n      L: {\n        min: 78,\n        max: 83\n      },\n      XL: {\n        min: 83,\n        max: 88\n      },\n      XXL: {\n        min: 88,\n        max: 93\n      },\n      threeXL: {\n        min: 93,\n        max: 98\n      },\n      fourXL: {\n        min: 98,\n        max: 999\n      }\n    },\n    neck: {\n      XXS: {\n        min: 0,\n        max: 35\n      },\n      XS: {\n        min: 35,\n        max: 37\n      },\n      S: {\n        min: 37,\n        max: 39\n      },\n      M: {\n        min: 39,\n        max: 41\n      },\n      L: {\n        min: 41,\n        max: 43\n      },\n      XL: {\n        min: 43,\n        max: 45\n      },\n      XXL: {\n        min: 45,\n        max: 47\n      },\n      threeXL: {\n        min: 47,\n        max: 49\n      },\n      fourXL: {\n        min: 49,\n        max: 999\n      }\n    },\n    armLength: {\n      XXS: {\n        min: 0,\n        max: 55\n      },\n      XS: {\n        min: 55,\n        max: 60\n      },\n      S: {\n        min: 60,\n        max: 65\n      },\n      M: {\n        min: 65,\n        max: 70\n      },\n      L: {\n        min: 70,\n        max: 75\n      },\n      XL: {\n        min: 75,\n        max: 80\n      },\n      XXL: {\n        min: 80,\n        max: 85\n      },\n      threeXL: {\n        min: 85,\n        max: 90\n      },\n      fourXL: {\n        min: 90,\n        max: 999\n      }\n    },\n    bicep: {\n      XXS: {\n        min: 0,\n        max: 28\n      },\n      XS: {\n        min: 28,\n        max: 31\n      },\n      S: {\n        min: 31,\n        max: 34\n      },\n      M: {\n        min: 34,\n        max: 37\n      },\n      L: {\n        min: 37,\n        max: 40\n      },\n      XL: {\n        min: 40,\n        max: 43\n      },\n      XXL: {\n        min: 43,\n        max: 46\n      },\n      threeXL: {\n        min: 46,\n        max: 49\n      },\n      fourXL: {\n        min: 49,\n        max: 999\n      }\n    }\n  };\n\n  // 2. Get individual size scores for available measurements\n  const scores = [];\n  scores.push(getSizeScore(chestCm, measurementRanges.chest));\n  scores.push(getSizeScore(shoulderCm, measurementRanges.shoulder));\n  scores.push(getSizeScore(waistCm, measurementRanges.waist));\n  if (neckCm) scores.push(getSizeScore(neckCm, measurementRanges.neck));\n  if (armLengthCm) scores.push(getSizeScore(armLengthCm, measurementRanges.armLength));\n  if (bicepCm) scores.push(getSizeScore(bicepCm, measurementRanges.bicep));\n\n  // 3. Calculate weighted average (all measurements equally important)\n  const averageScore = scores.reduce((sum, score) => sum + score, 0) / scores.length;\n\n  // 4. Apply body proportion adjustments\n  let finalScore = averageScore;\n\n  // Waist-to-chest ratio adjustment (body shape indicator)\n  const waistChestRatio = waistCm / chestCm;\n  if (waistChestRatio < 0.70) {\n    // Very slim/athletic build - go down slightly\n    finalScore -= 0.3;\n  } else if (waistChestRatio > 0.90) {\n    // Fuller build - go up slightly\n    finalScore += 0.3;\n  }\n\n  // Shoulder-to-chest ratio adjustment (shoulder width indicator)\n  const shoulderChestRatio = shoulderCm / chestCm;\n  if (shoulderChestRatio > 0.60) {\n    // Very broad shoulders - go up slightly\n    finalScore += 0.2;\n  } else if (shoulderChestRatio < 0.40) {\n    // Very narrow shoulders - go down slightly\n    finalScore -= 0.2;\n  }\n\n  // 5. Convert score to size with bounds checking\n  const sizeOrder = ['XXS', 'XS', 'S', 'M', 'L', 'XL', 'XXL', '3XL', '4XL'];\n  const sizeIndex = Math.max(0, Math.min(sizeOrder.length - 1, Math.round(finalScore)));\n  const finalSize = sizeOrder[sizeIndex];\n\n  // 6. Enhanced logging for debugging\n  console.log(`🎯 COMPLETE UPPER BODY SIZE CALCULATION:`, {\n    measurements: {\n      chestCm: chestCm.toFixed(1),\n      shoulderCm: shoulderCm.toFixed(1),\n      waistCm: waistCm.toFixed(1),\n      neckCm: (neckCm === null || neckCm === void 0 ? void 0 : neckCm.toFixed(1)) || 'N/A',\n      armLengthCm: (armLengthCm === null || armLengthCm === void 0 ? void 0 : armLengthCm.toFixed(1)) || 'N/A',\n      bicepCm: (bicepCm === null || bicepCm === void 0 ? void 0 : bicepCm.toFixed(1)) || 'N/A',\n      backWidthCm: (backWidthCm === null || backWidthCm === void 0 ? void 0 : backWidthCm.toFixed(1)) || 'N/A',\n      torsoLengthCm: (torsoLengthCm === null || torsoLengthCm === void 0 ? void 0 : torsoLengthCm.toFixed(1)) || 'N/A'\n    },\n    calculation: {\n      individualScores: scores.map((score, index) => `${score} (${sizeOrder[score]})`),\n      averageScore: averageScore.toFixed(2),\n      proportionAdjustments: {\n        waistChestRatio: waistChestRatio.toFixed(3),\n        shoulderChestRatio: shoulderChestRatio.toFixed(3)\n      },\n      finalScore: finalScore.toFixed(2),\n      finalSize\n    },\n    recommendations: {\n      measurementCount: scores.length,\n      dominantMeasurement: getDominantMeasurement(chestCm, shoulderCm, waistCm),\n      confidence: scores.length >= 5 ? 'High' : scores.length >= 3 ? 'Medium' : 'Low'\n    }\n  });\n  return finalSize;\n};\nexport default function Measure() {\n  _s2();\n  var _meas$chestCm, _meas$shoulderCm, _meas$upperWaistCm, _meas$chestCm2, _meas$shoulderCm2, _meas$upperWaistCm2;\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const poseRef = useRef(null);\n  const camRef = useRef(null);\n  const [phase, setPhase] = useState(\"calibrate\"); // 'calibrate' | 'measure' | 'locked'\n  const [status, setStatus] = useState(\"Hold an A4 sheet at chest level and match the bar width.\");\n  const [barPx, setBarPx] = useState(300);\n  const [cmPerPx, setCmPerPx] = useState(null);\n  // 'Men' | 'Women' | 'Unisex'\n\n  const [locked, setLocked] = useState(false);\n  const [meas, setMeas] = useState(null); // { chestCm, shoulderCm, upperWaistCm, quality }\n\n  // stability settings\n  const GUIDE_MARGIN = 0.08;\n  const STABILITY_FRAMES = 12;\n  const MOVEMENT_EPS = 0.015;\n  const recentShoulderN = useRef([]);\n  const chestBuf = useRef([]);\n  const shoulderBuf = useRef([]);\n  const waistBuf = useRef([]);\n  const getDistance = useCallback((a, b) => Math.hypot(a.x - b.x, a.y - b.y), []);\n  const stopCamera = () => {\n    try {\n      var _camRef$current, _camRef$current$stop;\n      (_camRef$current = camRef.current) === null || _camRef$current === void 0 ? void 0 : (_camRef$current$stop = _camRef$current.stop) === null || _camRef$current$stop === void 0 ? void 0 : _camRef$current$stop.call(_camRef$current);\n      const v = videoRef.current;\n      (v === null || v === void 0 ? void 0 : v.srcObject) && v.srcObject.getTracks().forEach(t => t.stop());\n      if (v) v.srcObject = null;\n    } catch {}\n  };\n  const startCamera = async pose => {\n    const v = videoRef.current;\n    const camera = new Camera(v, {\n      onFrame: async () => {\n        await pose.send({\n          image: v\n        });\n      },\n      width: 1280,\n      height: 720\n    });\n    camRef.current = camera;\n    camera.start();\n  };\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n\n    // Simple MediaPipe initialization with error handling\n    try {\n      const pose = new Pose({\n        // Load from local public assets & force non‑SIMD to avoid WASM crash\n        locateFile: file => `/mediapipe/pose/${file.replace('simd_', '')}`\n      });\n      poseRef.current = pose;\n      pose.setOptions({\n        modelComplexity: 0,\n        // Use lowest complexity to avoid crashes\n        smoothLandmarks: true,\n        enableSegmentation: false,\n        minDetectionConfidence: 0.6,\n        // Higher confidence for stability\n        minTrackingConfidence: 0.6\n      });\n      pose.onResults(res => {\n        if (locked) return;\n        const W = res.image.width,\n          H = res.image.height;\n        if (canvas.width !== W) canvas.width = W;\n        if (canvas.height !== H) canvas.height = H;\n        ctx.save();\n        ctx.clearRect(0, 0, W, H);\n        ctx.drawImage(res.image, 0, 0, W, H);\n\n        // Enhanced guide box with gradient\n        const gx = W * GUIDE_MARGIN,\n          gy = H * GUIDE_MARGIN;\n        const gW = W * (1 - GUIDE_MARGIN * 2),\n          gH = H * (1 - GUIDE_MARGIN * 2);\n        const gradient = ctx.createLinearGradient(gx, gy, gx + gW, gy + gH);\n        gradient.addColorStop(0, \"rgba(59, 130, 246, 0.8)\"); // Blue\n        gradient.addColorStop(0.5, \"rgba(16, 185, 129, 0.8)\"); // Emerald\n        gradient.addColorStop(1, \"rgba(139, 92, 246, 0.8)\"); // Purple\n        ctx.strokeStyle = gradient;\n        ctx.lineWidth = 4;\n        ctx.strokeRect(gx, gy, gW, gH);\n\n        // calibration bar with better styling\n        if (phase === \"calibrate\") {\n          const barH = 20;\n          const barY = H * 0.12;\n\n          // Bar background with gradient\n          const barGradient = ctx.createLinearGradient((W - barPx) / 2, barY, (W - barPx) / 2 + barPx, barY);\n          barGradient.addColorStop(0, \"rgba(59, 130, 246, 0.9)\");\n          barGradient.addColorStop(1, \"rgba(16, 185, 129, 0.9)\");\n          ctx.fillStyle = barGradient;\n          ctx.fillRect((W - barPx) / 2, barY, barPx, barH);\n\n          // Bar border\n          ctx.strokeStyle = \"rgba(255, 255, 255, 0.9)\";\n          ctx.lineWidth = 2;\n          ctx.strokeRect((W - barPx) / 2, barY, barPx, barH);\n\n          // Instruction text with better styling\n          ctx.font = \"16px system-ui, -apple-system, sans-serif\";\n          ctx.fillStyle = \"rgba(255, 255, 255, 0.95)\";\n          ctx.strokeStyle = \"rgba(0, 0, 0, 0.5)\";\n          ctx.lineWidth = 3;\n          const text = \"Match this bar to A4 width (21 cm) at chest depth\";\n          const textX = Math.max(20, (W - ctx.measureText(text).width) / 2);\n          ctx.strokeText(text, textX, barY - 15);\n          ctx.fillText(text, textX, barY - 15);\n        }\n        const lm = res.poseLandmarks;\n        if (!lm) {\n          setStatus(\"Detecting body…\");\n          ctx.restore();\n          return;\n        }\n\n        // Enhanced overlay with better colors\n        drawBBox(ctx, lm, W, H, \"rgba(16, 185, 129, 0.9)\");\n        UPPER.forEach(([a, b]) => drawSeg(ctx, lm, a, b, \"#3B82F6\", 4, W, H)); // Blue\n        LOWER.forEach(([a, b]) => drawSeg(ctx, lm, a, b, \"#F59E0B\", 4, W, H)); // Amber\n\n        const vis = i => {\n          var _lm$i$visibility, _lm$i;\n          return ((_lm$i$visibility = (_lm$i = lm[i]) === null || _lm$i === void 0 ? void 0 : _lm$i.visibility) !== null && _lm$i$visibility !== void 0 ? _lm$i$visibility : 0) > 0.45;\n        };\n        const shouldersOK = vis(11) && vis(12);\n        const hipsOK = vis(23) || vis(24);\n        if (!(shouldersOK && hipsOK)) {\n          setStatus(\"Show shoulders & upper torso.\");\n          ctx.restore();\n          return;\n        }\n        const Lsh = lm[11],\n          Rsh = lm[12];\n        const Lhip = lm[23],\n          Rhip = lm[24];\n        const hip = vis(23) ? Lhip : Rhip;\n\n        // Enhanced key dots with glow effect\n        const shMid = {\n          x: (Lsh.x + Rsh.x) / 2,\n          y: (Lsh.y + Rsh.y) / 2\n        };\n        const keyPoints = [{\n          point: Lsh,\n          color: \"#3B82F6\"\n        }, {\n          point: Rsh,\n          color: \"#3B82F6\"\n        }, {\n          point: shMid,\n          color: \"#10B981\"\n        }, {\n          point: hip,\n          color: \"#F59E0B\"\n        }];\n        keyPoints.forEach(({\n          point,\n          color\n        }) => {\n          if (point) {\n            // Glow effect\n            ctx.shadowColor = color;\n            ctx.shadowBlur = 15;\n            ctx.fillStyle = color;\n            ctx.beginPath();\n            ctx.arc(point.x * W, point.y * H, 8, 0, Math.PI * 2);\n            ctx.fill();\n\n            // Inner bright dot\n            ctx.shadowBlur = 0;\n            ctx.fillStyle = \"white\";\n            ctx.beginPath();\n            ctx.arc(point.x * W, point.y * H, 4, 0, Math.PI * 2);\n            ctx.fill();\n          }\n        });\n        ctx.shadowBlur = 0;\n\n        // must be inside guide\n        const inside = [Lsh, Rsh, hip].every(p => p.x * W >= gx && p.x * W <= gx + gW && p.y * H >= gy && p.y * H <= gy + gH);\n        if (!inside) {\n          setStatus(\"Step back/center inside the frame.\");\n          ctx.restore();\n          return;\n        }\n        if (phase === \"calibrate\") {\n          setStatus(\"Adjust bar → Set calibration.\");\n          ctx.restore();\n          return;\n        }\n        if (!cmPerPx) {\n          setStatus(\"Click Set calibration first.\");\n          ctx.restore();\n          return;\n        }\n\n        // normalized stability\n        const shoulderWidthN = getDistance(Lsh, Rsh);\n        const torsoHeightN = getDistance(shMid, hip);\n        if (torsoHeightN <= 0) {\n          setStatus(\"Hold still…\");\n          ctx.restore();\n          return;\n        }\n        const bufN = recentShoulderN.current;\n        bufN.push(shoulderWidthN);\n        if (bufN.length > STABILITY_FRAMES) bufN.shift();\n        const avg = bufN.reduce((a, b) => a + b, 0) / bufN.length;\n        const maxDev = Math.max(...bufN.map(v => Math.abs(v - avg)));\n\n        // ----- measurements in cm -----\n        const shoulderPx = Math.abs((Lsh.x - Rsh.x) * W);\n        const shoulderCm = shoulderPx * cmPerPx;\n        const chestCmInstant = shoulderCm * CHEST_MULTIPLIER;\n        let upperWaistCmInstant = null;\n        if (vis(23) && vis(24)) {\n          const hipFlatCm = Math.abs((Lhip.x - Rhip.x) * W) * cmPerPx;\n          upperWaistCmInstant = hipFlatCm * UPPER_WAIST_FACTOR;\n        }\n\n        // median smoothing\n        const pushMed = (ref, val, n = 15) => {\n          if (val == null) return null;\n          ref.current.push(val);\n          if (ref.current.length > n) ref.current.shift();\n          const s = [...ref.current].sort((a, b) => a - b);\n          const m = Math.floor(s.length / 2);\n          return s.length % 2 ? s[m] : (s[m - 1] + s[m]) / 2;\n        };\n        const chestMed = pushMed(chestBuf, chestCmInstant);\n        const shoulderMed = pushMed(shoulderBuf, shoulderCm);\n        const waistMed = pushMed(waistBuf, upperWaistCmInstant);\n\n        // stability: normalized shoulders + cm spread\n        const spread = chestBuf.current.length >= 8 ? Math.max(...chestBuf.current) - Math.min(...chestBuf.current) : 999;\n        const stable = bufN.length >= STABILITY_FRAMES && maxDev < MOVEMENT_EPS && spread < 1.8; // slightly relaxed\n\n        if (stable && chestMed && shoulderMed) {\n          const out = {\n            chestCm: Number(chestMed.toFixed(1)),\n            shoulderCm: Number(shoulderMed.toFixed(1)),\n            upperWaistCm: waistMed ? Number(waistMed.toFixed(1)) : undefined,\n            quality: {\n              frames: chestBuf.current.length,\n              spreadCm: Number(spread.toFixed(2))\n            }\n          };\n          setMeas(out);\n          setLocked(true);\n          setPhase(\"locked\");\n          setStatus(\"Locked ✔️\");\n          stopCamera();\n        } else {\n          setStatus(\"Hold still…\");\n        }\n        ctx.restore();\n      });\n      startCamera(pose);\n      return () => {\n        stopCamera();\n      };\n    } catch (error) {\n      console.error(\"❌ MediaPipe initialization failed:\", error);\n      setStatus(`MediaPipe Error: ${error.message}. Please refresh the page.`);\n      setPhase(\"error\");\n    }\n  }, [phase, cmPerPx, getDistance, locked, barPx]);\n  const setCalibration = () => {\n    if (barPx < 40) return;\n    setCmPerPx(A4_WIDTH_CM / barPx);\n    setPhase(\"measure\");\n    setStatus(\"Calibration set. Stand centered; shoulders & upper torso visible.\");\n    // reset buffers\n    chestBuf.current = [];\n    shoulderBuf.current = [];\n    waistBuf.current = [];\n    recentShoulderN.current = [];\n  };\n  const retake = () => {\n    setLocked(false);\n    setMeas(null);\n    setPhase(\"measure\");\n    setStatus(\"Stand centered; hold still 1–2 seconds.\");\n    chestBuf.current = [];\n    shoulderBuf.current = [];\n    waistBuf.current = [];\n    recentShoulderN.current = [];\n    if (poseRef.current) startCamera(poseRef.current);\n  };\n  const recalibrate = () => {\n    setLocked(false);\n    setMeas(null);\n    setPhase(\"calibrate\");\n    setStatus(\"Hold an A4 sheet at chest level and match the bar width.\");\n    chestBuf.current = [];\n    shoulderBuf.current = [];\n    waistBuf.current = [];\n    recentShoulderN.current = [];\n    if (poseRef.current) startCamera(poseRef.current);\n  };\n\n  // Helper functions for UI\n  const getStatusIcon = () => {\n    if (phase === \"locked\") return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-emerald-500 text-xl\",\n      children: \"\\u2705\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1031,\n      columnNumber: 36\n    }, this);\n    if (phase === \"measure\") return /*#__PURE__*/_jsxDEV(Activity, {\n      className: \"w-5 h-5 text-blue-500 animate-pulse\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1032,\n      columnNumber: 37\n    }, this);\n    return /*#__PURE__*/_jsxDEV(Target, {\n      className: \"w-5 h-5 text-amber-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1033,\n      columnNumber: 12\n    }, this);\n  };\n  const getPhaseColor = () => {\n    if (phase === \"locked\") return \"from-emerald-500 to-green-500\";\n    if (phase === \"measure\") return \"from-blue-500 to-cyan-500\";\n    return \"from-amber-500 to-orange-500\";\n  };\n  return /*#__PURE__*/_jsxDEV(MediaPipeErrorBoundary, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-indigo-900 relative overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute top-10 left-10 w-72 h-72 bg-blue-500/10 rounded-full blur-3xl animate-pulse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1047,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute bottom-10 right-10 w-96 h-96 bg-emerald-500/10 rounded-full blur-3xl animate-pulse delay-1000\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1048,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-2000\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1049,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1046,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative z-10 flex flex-col items-center min-h-screen\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full max-w-7xl flex items-center justify-between px-6 py-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 bg-gradient-to-r from-blue-500 to-emerald-500 rounded-2xl flex items-center justify-center shadow-lg\",\n              children: /*#__PURE__*/_jsxDEV(Sparkles, {\n                className: \"w-7 h-7 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1057,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1056,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-2xl font-bold text-white\",\n                children: \"AI Fashion Fit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1060,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-blue-200\",\n                children: \"Body Measurement System\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1061,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1059,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1055,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `bg-gradient-to-r ${getPhaseColor()} rounded-full px-6 py-3 shadow-lg backdrop-blur-sm border border-white/10`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3 text-white\",\n                children: [getStatusIcon(), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-sm\",\n                  children: status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1070,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1068,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1067,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1066,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1054,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full max-w-6xl px-6 flex-1 flex items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative w-full bg-black/20 backdrop-blur-lg rounded-3xl overflow-hidden shadow-2xl border border-white/10\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative aspect-video\",\n              children: [/*#__PURE__*/_jsxDEV(\"video\", {\n                ref: videoRef,\n                className: \"absolute inset-0 w-full h-full object-contain bg-black rounded-3xl\",\n                autoPlay: true,\n                muted: true,\n                playsInline: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1080,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n                ref: canvasRef,\n                className: \"absolute inset-0 w-full h-full object-contain pointer-events-none\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1081,\n                columnNumber: 17\n              }, this), phase === \"calibrate\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute bottom-6 left-1/2 transform -translate-x-1/2\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white/95 backdrop-blur-md rounded-2xl px-6 py-4 shadow-2xl border border-white/20\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(Target, {\n                        className: \"w-5 h-5 text-amber-600\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1089,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-sm font-medium text-gray-700\",\n                        children: \"A4 width calibration\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1090,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1088,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"range\",\n                      min: 120,\n                      max: 900,\n                      value: barPx,\n                      onChange: e => setBarPx(Number(e.target.value)),\n                      className: \"w-64 accent-blue-500\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1092,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: setCalibration,\n                      className: \"bg-gradient-to-r from-blue-500 to-emerald-500 hover:from-blue-600 hover:to-emerald-600 text-white px-6 py-2 rounded-xl font-medium transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-white text-lg\",\n                        children: \"\\u2705\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1104,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Set Calibration\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1105,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1100,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1087,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1086,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1085,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1079,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1078,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1077,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full max-w-4xl px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center text-white\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-center space-x-2 mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(CameraIcon, {\n                  className: \"w-5 h-5 text-blue-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1126,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold\",\n                  children: \"Instructions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1127,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1125,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-white/80 space-y-2\",\n                children: [phase === \"calibrate\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"\\uD83D\\uDCC4 Hold an A4 sheet at chest level and adjust the bar to match its width for accurate calibration.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1132,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-yellow-200\",\n                    children: [\"\\u26A0\\uFE0F \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Critical:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1133,\n                      columnNumber: 65\n                    }, this), \" Proper calibration ensures accurate measurements. Wrong calibration = wrong size recommendations!\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1133,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true), phase === \"measure\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"\\uD83E\\uDDCD Stand straight with arms slightly away from your body. Hold still for precise measurement.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1138,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-blue-200\",\n                    children: [\"\\uD83D\\uDCCF \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Upper Body Measurements:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1139,\n                      columnNumber: 63\n                    }, this), \" Chest (fullest part), Shoulders (tip to tip), Waist (narrowest part)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1139,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true), phase === \"locked\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"\\u2705 Measurements captured successfully! You can retake if needed or save your results.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1144,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-green-200\",\n                    children: [\"\\uD83C\\uDFAF \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Size Logic:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1145,\n                      columnNumber: 64\n                    }, this), \" Based on chest measurement with adjustments for shoulder width and waist proportion\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1145,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1129,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1124,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1123,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1122,\n          columnNumber: 11\n        }, this), phase === \"locked\" && meas && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full max-w-4xl px-6 py-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/95 backdrop-blur-md rounded-2xl p-6 border border-gray-200 shadow-xl\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center text-gray-800\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-bold mb-4\",\n                children: \"\\uD83D\\uDCCA Upper Body Measurement Results\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1158,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-blue-50 rounded-xl p-4 mb-6 border border-blue-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-semibold text-blue-800 mb-2\",\n                  children: \"\\uD83D\\uDCCF Upper Body Measurement Guide\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1162,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-blue-700 space-y-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Chest:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1164,\n                      columnNumber: 26\n                    }, this), \" Around fullest part of chest (bust for women, chest for men)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1164,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Shoulder:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1165,\n                      columnNumber: 26\n                    }, this), \" Across back from shoulder tip to shoulder tip\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1165,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Waist:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1166,\n                      columnNumber: 26\n                    }, this), \" Around natural waistline (narrowest part of torso)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1166,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1163,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1161,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-green-50 rounded-xl p-4 mb-6 border border-green-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-semibold text-green-800 mb-2\",\n                  children: \"\\uD83D\\uDC55 T-Shirt Measurement Guide\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1172,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-green-700 space-y-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-1 md:grid-cols-2 gap-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                        className: \"font-medium text-green-800\",\n                        children: \"\\uD83C\\uDFAF Essential Measurements:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1176,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                        className: \"text-xs space-y-1 mt-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                          children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Chest:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1178,\n                            columnNumber: 35\n                          }, this), \" Around fullest part (most important!)\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1178,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Shoulder:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1179,\n                            columnNumber: 35\n                          }, this), \" Tip to tip across back\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1179,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Waist:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1180,\n                            columnNumber: 35\n                          }, this), \" Natural waistline\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1180,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1177,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1175,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                        className: \"font-medium text-green-800\",\n                        children: \"\\uD83D\\uDCCF Optional Measurements:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1184,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                        className: \"text-xs space-y-1 mt-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                          children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Sleeve Length:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1186,\n                            columnNumber: 35\n                          }, this), \" Shoulder to desired end\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1186,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Torso Length:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1187,\n                            columnNumber: 35\n                          }, this), \" Shoulder to desired end\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1187,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1185,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1183,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1174,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-2 p-2 bg-green-100 rounded border border-green-300\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-green-800\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"\\uD83D\\uDCA1 Pro Tip:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1193,\n                        columnNumber: 27\n                      }, this), \" For t-shirts, chest measurement is most important, but shoulder width and waist also matter for proper fit!\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1192,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1191,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1173,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1171,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-blue-50 rounded-xl p-4 mb-6 border border-blue-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-semibold text-blue-800 mb-2\",\n                  children: \"\\uD83C\\uDFAF Complete Upper Body Measurement System\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1202,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-blue-700 space-y-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                        className: \"font-medium text-blue-800 mb-2\",\n                        children: \"\\uD83D\\uDCCF Essential Measurements (Must Have):\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1206,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                        className: \"text-xs space-y-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                          children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Chest:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1208,\n                            columnNumber: 35\n                          }, this), \" Around fullest part of chest\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1208,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Shoulder:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1209,\n                            columnNumber: 35\n                          }, this), \" Across back from tip to tip\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1209,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Waist:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1210,\n                            columnNumber: 35\n                          }, this), \" Around natural waistline\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1210,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Neck:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1211,\n                            columnNumber: 35\n                          }, this), \" Around base of neck\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1211,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Arm Length:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1212,\n                            columnNumber: 35\n                          }, this), \" From shoulder tip to wrist\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1212,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Bicep:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1213,\n                            columnNumber: 35\n                          }, this), \" Around fullest part of upper arm\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1213,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1207,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1205,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                        className: \"font-medium text-blue-800 mb-2\",\n                        children: \"\\uD83D\\uDC54 Clothing Types Supported:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1217,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                        className: \"text-xs space-y-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                          children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"T-Shirts:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1219,\n                            columnNumber: 35\n                          }, this), \" Basic fit and style\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1219,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Shirts:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1220,\n                            columnNumber: 35\n                          }, this), \" Collar size and sleeve length\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1220,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Polos:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1221,\n                            columnNumber: 35\n                          }, this), \" Collar and fit recommendations\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1221,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Sweaters:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1222,\n                            columnNumber: 35\n                          }, this), \" Fit and length\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1222,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Jackets:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1223,\n                            columnNumber: 35\n                          }, this), \" Fit and sleeve length\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1223,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1218,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1216,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1204,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-2 p-2 bg-blue-100 rounded border border-blue-300\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-blue-800\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"\\uD83C\\uDFAF Key Feature:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1229,\n                        columnNumber: 27\n                      }, this), \" This system calculates size based on ALL measurements, not just chest! More measurements = more accurate sizing.\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1228,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1227,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1203,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1201,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-blue-50 rounded-xl p-4 border border-blue-200\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-2xl font-bold text-blue-600\",\n                    children: ((_meas$chestCm = meas.chestCm) === null || _meas$chestCm === void 0 ? void 0 : _meas$chestCm.toFixed(1)) || 'N/A'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1239,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-blue-500\",\n                    children: \"Chest (cm)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1240,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-blue-400 mt-1\",\n                    children: meas.chestCm ? meas.chestCm < 81 ? 'XXS' : meas.chestCm < 86 ? 'XS' : meas.chestCm < 91 ? 'S' : meas.chestCm < 96 ? 'M' : meas.chestCm < 101 ? 'L' : meas.chestCm < 106 ? 'XL' : meas.chestCm < 111 ? 'XXL' : meas.chestCm < 116 ? '3XL' : '4XL' : 'N/A'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1241,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1238,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-emerald-50 rounded-xl p-4 border border-emerald-200\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-2xl font-bold text-emerald-600\",\n                    children: ((_meas$shoulderCm = meas.shoulderCm) === null || _meas$shoulderCm === void 0 ? void 0 : _meas$shoulderCm.toFixed(1)) || 'N/A'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1253,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-emerald-500\",\n                    children: \"Shoulder (cm)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1254,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-emerald-400 mt-1\",\n                    children: meas.shoulderCm ? meas.shoulderCm < 38 ? 'Narrow' : meas.shoulderCm < 47 ? 'Standard' : meas.shoulderCm < 56 ? 'Broad' : 'Very Broad' : 'N/A'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1255,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1252,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-purple-50 rounded-xl p-4 border border-purple-200\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-2xl font-bold text-purple-600\",\n                    children: ((_meas$upperWaistCm = meas.upperWaistCm) === null || _meas$upperWaistCm === void 0 ? void 0 : _meas$upperWaistCm.toFixed(1)) || 'N/A'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1262,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-purple-500\",\n                    children: \"Waist (cm)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1263,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-purple-400 mt-1\",\n                    children: meas.upperWaistCm ? meas.upperWaistCm < 63 ? 'XXS' : meas.upperWaistCm < 68 ? 'XS' : meas.upperWaistCm < 73 ? 'S' : meas.upperWaistCm < 78 ? 'M' : meas.upperWaistCm < 83 ? 'L' : meas.upperWaistCm < 88 ? 'XL' : meas.upperWaistCm < 93 ? 'XXL' : meas.upperWaistCm < 98 ? '3XL' : '4XL' : 'N/A'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1264,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1261,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1237,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gradient-to-r from-blue-50 to-emerald-50 rounded-xl p-4 mb-6 border border-blue-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-lg font-semibold text-gray-700 mb-2\",\n                  children: \"\\uD83C\\uDFAF Recommended Size\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1279,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-3xl font-bold bg-gradient-to-r from-blue-600 to-emerald-600 bg-clip-text text-transparent mb-2\",\n                  children: recommendTopSize(meas.chestCm, meas.upperWaistCm, meas.shoulderCm)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1280,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600 mb-3\",\n                  children: [\"Based on \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"all three measurements equally\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1284,\n                    columnNumber: 32\n                  }, this), \" (not just chest!)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1283,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white/50 rounded-lg p-3 border border-blue-200\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"text-sm font-medium text-blue-800 mb-2\",\n                    children: \"\\uD83D\\uDCCA How Each Measurement Contributes:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1289,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-3 gap-2 text-xs\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-semibold text-blue-600\",\n                        children: \"Chest\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1292,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-blue-500\",\n                        children: [(_meas$chestCm2 = meas.chestCm) === null || _meas$chestCm2 === void 0 ? void 0 : _meas$chestCm2.toFixed(1), \" cm\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1293,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-blue-400\",\n                        children: meas.chestCm ? meas.chestCm < 81 ? 'XXS' : meas.chestCm < 86 ? 'XS' : meas.chestCm < 91 ? 'S' : meas.chestCm < 96 ? 'M' : meas.chestCm < 101 ? 'L' : meas.chestCm < 106 ? 'XL' : meas.chestCm < 111 ? 'XXL' : meas.chestCm < 116 ? '3XL' : '4XL' : 'N/A'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1294,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1291,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-semibold text-emerald-600\",\n                        children: \"Shoulder\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1306,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-emerald-500\",\n                        children: [(_meas$shoulderCm2 = meas.shoulderCm) === null || _meas$shoulderCm2 === void 0 ? void 0 : _meas$shoulderCm2.toFixed(1), \" cm\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1307,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-emerald-400\",\n                        children: meas.shoulderCm ? meas.shoulderCm < 38 ? 'XXS' : meas.shoulderCm < 41 ? 'XS' : meas.shoulderCm < 44 ? 'S' : meas.shoulderCm < 47 ? 'M' : meas.shoulderCm < 50 ? 'L' : meas.shoulderCm < 53 ? 'XL' : meas.shoulderCm < 56 ? 'XXL' : meas.shoulderCm < 59 ? '3XL' : '4XL' : 'N/A'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1308,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1305,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-semibold text-purple-600\",\n                        children: \"Waist\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1320,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-purple-500\",\n                        children: [(_meas$upperWaistCm2 = meas.upperWaistCm) === null || _meas$upperWaistCm2 === void 0 ? void 0 : _meas$upperWaistCm2.toFixed(1), \" cm\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1321,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-purple-400\",\n                        children: meas.upperWaistCm ? meas.upperWaistCm < 63 ? 'XXS' : meas.upperWaistCm < 68 ? 'XS' : meas.upperWaistCm < 73 ? 'S' : meas.upperWaistCm < 78 ? 'M' : meas.upperWaistCm < 83 ? 'L' : meas.upperWaistCm < 88 ? 'XL' : meas.upperWaistCm < 93 ? 'XXL' : meas.upperWaistCm < 98 ? '3XL' : '4XL' : 'N/A'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1322,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1319,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1290,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-blue-600 mt-2 text-center\",\n                    children: [\"\\uD83D\\uDCA1 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Balanced Approach:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1335,\n                      columnNumber: 28\n                    }, this), \" All measurements contribute equally to final size\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1334,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1288,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1278,\n                columnNumber: 19\n              }, this), meas.chestCm && meas.shoulderCm && meas.upperWaistCm && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4 mb-6 border border-purple-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-semibold text-purple-800 mb-2\",\n                  children: \"\\uD83D\\uDCA1 Fit & Style Recommendations\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1343,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-purple-700 space-y-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Fit:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1345,\n                      columnNumber: 28\n                    }, this), \" \", getFitRecommendation(meas.chestCm, meas.shoulderCm, meas.upperWaistCm)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1345,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Style:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1346,\n                      columnNumber: 28\n                    }, this), \" \", getStyleRecommendation(meas.chestCm, meas.shoulderCm)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1346,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1344,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1342,\n                columnNumber: 21\n              }, this), meas.chestCm && meas.shoulderCm && meas.upperWaistCm && (() => {\n                const tshirtData = getTshirtMeasurements(meas.chestCm, meas.shoulderCm, meas.upperWaistCm);\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-gradient-to-r from-green-50 to-blue-50 rounded-xl p-4 mb-6 border border-green-200\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-semibold text-green-800 mb-2\",\n                    children: \"\\uD83D\\uDC55 T-Shirt Specific Recommendations\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1356,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-green-700 space-y-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"grid grid-cols-1 md:grid-cols-2 gap-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                          className: \"font-medium text-green-800 mb-1\",\n                          children: \"\\uD83C\\uDFAF Fit Type:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1360,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                          className: \"text-xs space-y-1\",\n                          children: tshirtData.fitRecommendations.slice(0, 3).map((rec, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                            children: [\"\\u2022 \", rec]\n                          }, index, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1363,\n                            columnNumber: 35\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1361,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1359,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                          className: \"font-medium text-green-800 mb-1\",\n                          children: \"\\uD83D\\uDCCF Size Guide:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1368,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-xs space-y-1\",\n                          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                              children: \"Recommended:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1370,\n                              columnNumber: 36\n                            }, this), \" \", tshirtData.tshirtSize]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1370,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                              children: \"Chest Range:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1371,\n                              columnNumber: 36\n                            }, this), \" \", getChestRangeForSize(tshirtData.tshirtSize)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1371,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                              children: \"Shoulder Range:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1372,\n                              columnNumber: 36\n                            }, this), \" \", getShoulderRangeForSize(tshirtData.tshirtSize)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1372,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1369,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1367,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1358,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-2 p-2 bg-green-100 rounded border border-green-300\",\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-green-800\",\n                        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"\\uD83D\\uDECD\\uFE0F Shopping Tip:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1378,\n                          columnNumber: 31\n                        }, this), \" Look for t-shirts labeled \\\"\", tshirtData.tshirtSize, \"\\\" with the fit types recommended above for the best match!\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1377,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1376,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1357,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1355,\n                  columnNumber: 23\n                }, this);\n              })(), meas.chestCm && meas.shoulderCm && meas.upperWaistCm && (() => {\n                const completeData = getCompleteUpperBodyMeasurements(meas.chestCm, meas.shoulderCm, meas.upperWaistCm, null,\n                // neckCm - not currently measured\n                null,\n                // armLengthCm - not currently measured\n                null,\n                // bicepCm - not currently measured\n                null,\n                // backWidthCm - not currently measured\n                null // torsoLengthCm - not currently measured\n                );\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl p-4 mb-6 border border-purple-200\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-semibold text-purple-800 mb-2\",\n                    children: \"\\uD83D\\uDC54 Complete Upper Body Clothing Guide\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1401,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-purple-700 space-y-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"bg-white/50 rounded-lg p-3 border border-purple-200\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                        className: \"font-medium text-purple-800 mb-2\",\n                        children: \"\\uD83C\\uDFAF Overall Size Recommendation\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1406,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-center\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-2xl font-bold text-purple-600 mb-1\",\n                          children: completeData.overallSize\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1408,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-xs text-purple-600\",\n                          children: [\"Based on \", Object.keys(completeData.measurements.essential).length + (completeData.measurements.additional.neck ? 1 : 0) + (completeData.measurements.additional.armLength ? 1 : 0) + (completeData.measurements.additional.bicep ? 1 : 0), \" measurements\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1409,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1407,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1405,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"grid grid-cols-1 md:grid-cols-2 gap-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-white/50 rounded-lg p-3 border border-purple-200\",\n                        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                          className: \"font-medium text-purple-800 mb-1\",\n                          children: \"\\uD83D\\uDC55 T-Shirts\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1423,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                          className: \"text-xs space-y-1\",\n                          children: completeData.clothingRecommendations.tshirts.slice(0, 2).map((rec, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                            children: [\"\\u2022 \", rec]\n                          }, index, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1426,\n                            columnNumber: 35\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1424,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1422,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-white/50 rounded-lg p-3 border border-purple-200\",\n                        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                          className: \"font-medium text-purple-800 mb-1\",\n                          children: \"\\uD83D\\uDC54 Shirts\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1433,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                          className: \"text-xs space-y-1\",\n                          children: completeData.clothingRecommendations.shirts.slice(0, 2).map((rec, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                            children: [\"\\u2022 \", rec]\n                          }, index, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1436,\n                            columnNumber: 35\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1434,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1432,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-white/50 rounded-lg p-3 border border-purple-200\",\n                        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                          className: \"font-medium text-purple-800 mb-1\",\n                          children: \"\\uD83C\\uDFBD Polos\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1443,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                          className: \"text-xs space-y-1\",\n                          children: completeData.clothingRecommendations.polos.slice(0, 2).map((rec, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                            children: [\"\\u2022 \", rec]\n                          }, index, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1446,\n                            columnNumber: 35\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1444,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1442,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-white/50 rounded-lg p-3 border border-purple-200\",\n                        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                          className: \"font-medium text-purple-800 mb-1\",\n                          children: \"\\uD83E\\uDDE5 Sweaters\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1453,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                          className: \"text-xs space-y-1\",\n                          children: completeData.clothingRecommendations.sweaters.slice(0, 2).map((rec, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                            children: [\"\\u2022 \", rec]\n                          }, index, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1456,\n                            columnNumber: 35\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1454,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1452,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-white/50 rounded-lg p-3 border border-purple-200\",\n                        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                          className: \"font-medium text-purple-800 mb-1\",\n                          children: \"\\uD83E\\uDDE5 Jackets\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1463,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                          className: \"text-xs space-y-1\",\n                          children: completeData.clothingRecommendations.jackets.slice(0, 2).map((rec, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                            children: [\"\\u2022 \", rec]\n                          }, index, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1466,\n                            columnNumber: 35\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1464,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1462,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-white/50 rounded-lg p-3 border border-purple-200\",\n                        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                          className: \"font-medium text-purple-800 mb-1\",\n                          children: \"\\uD83D\\uDCCA Accuracy Level\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1473,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-xs space-y-1\",\n                          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                              children: \"Measurements:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1475,\n                              columnNumber: 36\n                            }, this), \" \", Object.keys(completeData.measurements.essential).length + (completeData.measurements.additional.neck ? 1 : 0) + (completeData.measurements.additional.armLength ? 1 : 0) + (completeData.measurements.additional.bicep ? 1 : 0), \"/6\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1475,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                              children: \"Confidence:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1479,\n                              columnNumber: 36\n                            }, this), \" \", Object.keys(completeData.measurements.essential).length + (completeData.measurements.additional.neck ? 1 : 0) + (completeData.measurements.additional.armLength ? 1 : 0) + (completeData.measurements.additional.bicep ? 1 : 0) >= 5 ? 'High' : Object.keys(completeData.measurements.essential).length + (completeData.measurements.additional.neck ? 1 : 0) + (completeData.measurements.additional.armLength ? 1 : 0) + (completeData.measurements.additional.bicep ? 1 : 0) >= 3 ? 'Medium' : 'Low']\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1479,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1474,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1472,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1419,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-2 p-2 bg-purple-100 rounded border border-purple-300\",\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-purple-800\",\n                        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"\\uD83D\\uDCA1 Pro Tip:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1493,\n                          columnNumber: 31\n                        }, this), \" The more measurements you provide, the more accurate your size recommendations will be! This system considers ALL measurements, not just chest size.\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1492,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1491,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1402,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1400,\n                  columnNumber: 23\n                }, this);\n              })(), meas.chestCm && meas.shoulderCm && meas.upperWaistCm && (() => {\n                const validation = validateMeasurements(meas.chestCm, meas.shoulderCm, meas.upperWaistCm);\n                if (validation.errors.length > 0 || validation.warnings.length > 0) {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-yellow-50 rounded-xl p-4 mb-6 border border-yellow-200\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"font-semibold text-yellow-800 mb-2\",\n                      children: \"\\u26A0\\uFE0F Measurement Validation\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1508,\n                      columnNumber: 27\n                    }, this), validation.errors.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm font-medium text-red-700 mb-1\",\n                        children: \"\\u274C Critical Issues:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1511,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                        className: \"text-xs text-red-600 space-y-1\",\n                        children: validation.errors.map((error, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: [\"\\u2022 \", error]\n                        }, index, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1514,\n                          columnNumber: 35\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1512,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1510,\n                      columnNumber: 29\n                    }, this), validation.warnings.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm font-medium text-yellow-700 mb-1\",\n                        children: \"\\u26A0\\uFE0F Warnings:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1521,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                        className: \"text-xs text-yellow-600 space-y-1\",\n                        children: validation.warnings.map((warning, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: [\"\\u2022 \", warning]\n                        }, index, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1524,\n                          columnNumber: 35\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1522,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1520,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-3 p-2 bg-blue-50 rounded border border-blue-200\",\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-blue-700\",\n                        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"\\uD83D\\uDCA1 Tip:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1531,\n                          columnNumber: 31\n                        }, this), \" If measurements seem incorrect, try recalibrating with the A4 sheet or retaking the measurement.\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1530,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1529,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1507,\n                    columnNumber: 25\n                  }, this);\n                }\n                return null;\n              })(), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 rounded-xl p-4 mb-6 border border-gray-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-semibold text-gray-800 mb-2\",\n                  children: \"\\uD83D\\uDCCB Size Chart Reference\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1542,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-600 grid grid-cols-4 gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"XXS:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1544,\n                      columnNumber: 28\n                    }, this), \" 76-81cm\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1544,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"XS:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1545,\n                      columnNumber: 28\n                    }, this), \" 81-86cm\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1545,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"S:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1546,\n                      columnNumber: 28\n                    }, this), \" 86-91cm\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1546,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"M:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1547,\n                      columnNumber: 28\n                    }, this), \" 91-96cm\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1547,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"L:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1548,\n                      columnNumber: 28\n                    }, this), \" 96-101cm\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1548,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"XL:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1549,\n                      columnNumber: 28\n                    }, this), \" 101-106cm\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1549,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"XXL:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1550,\n                      columnNumber: 28\n                    }, this), \" 106-111cm\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1550,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"3XL:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1551,\n                      columnNumber: 28\n                    }, this), \" 111-116cm\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1551,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1543,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1541,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col sm:flex-row gap-3 justify-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: retake,\n                  className: \"bg-gray-200 hover:bg-gray-300 text-gray-700 px-6 py-3 rounded-xl font-medium transition-all duration-300 border-2 border-gray-300\",\n                  children: \"\\uD83D\\uDD04 Retake\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1557,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: recalibrate,\n                  className: \"bg-blue-100 hover:bg-blue-200 text-blue-700 px-6 py-3 rounded-xl font-medium transition-all duration-300 border-2 border-blue-300\",\n                  children: \"\\uD83C\\uDFAF Recalibrate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1563,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    const recommendedSize = recommendTopSize(meas.chestCm, meas.upperWaistCm, meas.shoulderCm);\n                    if (recommendedSize) {\n                      // Pass all measurement data to recommendations page\n                      const measurementData = encodeURIComponent(JSON.stringify({\n                        size: recommendedSize,\n                        gender: 'Men',\n                        measurements: {\n                          chestCm: meas.chestCm,\n                          shoulderCm: meas.shoulderCm,\n                          upperWaistCm: meas.upperWaistCm\n                        }\n                      }));\n                      window.location.href = `/recommendations?data=${measurementData}`;\n                    }\n                  },\n                  className: \"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-xl font-medium transition-all duration-300 shadow-lg\",\n                  children: \"\\u2728 Get Recommendations\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1569,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1556,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1157,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1156,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1155,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1052,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1044,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1043,\n    columnNumber: 5\n  }, this);\n}\n_s2(Measure, \"vfDiX3M2kd+Wt+O4kRhlVrYCCig=\");\n_c2 = Measure;\nvar _c, _c2;\n$RefreshReg$(_c, \"MediaPipeErrorBoundary\");\n$RefreshReg$(_c2, \"Measure\");","map":{"version":3,"names":["React","useRef","useEffect","useState","useCallback","Pose","Camera","CameraIcon","Sparkles","Activity","Target","RotateCcw","Download","jsxDEV","_jsxDEV","Fragment","_Fragment","A4_WIDTH_CM","CHEST_MULTIPLIER","UPPER_WAIST_FACTOR","UPPER","LOWER","drawSeg","ctx","lm","a","b","color","width","W","H","_A$visibility","_B$visibility","A","B","visibility","strokeStyle","lineWidth","beginPath","moveTo","x","y","lineTo","stroke","drawBBox","pts","filter","p","_p$visibility","length","xs","map","ys","minX","Math","max","min","maxX","minY","maxY","pad","strokeRect","getTshirtMeasurements","chestCm","shoulderCm","waistCm","sleeveLengthCm","torsoLengthCm","measurements","essential","chest","shoulder","waist","optional","sleeveLength","torsoLength","fitRecommendations","push","tshirtSize","recommendTopSize","getSizeScore","value","ranges","XXS","XS","S","M","L","XL","XXL","threeXL","chestRanges","fourXL","shoulderRanges","waistRanges","chestScore","shoulderScore","waistScore","averageScore","finalScore","waistChestRatio","shoulderChestRatio","sizeOrder","sizeIndex","round","finalSize","console","log","toFixed","individualScores","calculation","proportionAdjustments","recommendations","fit","getFitRecommendation","style","getStyleRecommendation","dominantMeasurement","getDominantMeasurement","abs","minScore","getChestRangeForSize","size","getShoulderRangeForSize","validateMeasurements","warnings","errors","isValid","ratio","styleHint","MediaPipeErrorBoundary","children","_s","hasError","setHasError","errorMessage","setErrorMessage","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","window","location","reload","ErrorBoundary","onError","error","message","_c","Component","constructor","props","state","getDerivedStateFromError","componentDidCatch","errorInfo","render","getCompleteUpperBodyMeasurements","neckCm","armLengthCm","bicepCm","backWidthCm","additional","neck","armLength","bicep","backWidth","clothingRecommendations","tshirts","getTshirtRecommendations","shirts","getShirtRecommendations","polos","getPoloRecommendations","sweaters","getSweaterRecommendations","jackets","getJacketRecommendations","overallSize","recommendCompleteUpperBodySize","measurementRanges","scores","reduce","sum","score","index","measurementCount","confidence","Measure","_s2","_meas$chestCm","_meas$shoulderCm","_meas$upperWaistCm","_meas$chestCm2","_meas$shoulderCm2","_meas$upperWaistCm2","videoRef","canvasRef","poseRef","camRef","phase","setPhase","status","setStatus","barPx","setBarPx","cmPerPx","setCmPerPx","locked","setLocked","meas","setMeas","GUIDE_MARGIN","STABILITY_FRAMES","MOVEMENT_EPS","recentShoulderN","chestBuf","shoulderBuf","waistBuf","getDistance","hypot","stopCamera","_camRef$current","_camRef$current$stop","current","stop","call","v","srcObject","getTracks","forEach","t","startCamera","pose","camera","onFrame","send","image","height","start","canvas","getContext","locateFile","file","replace","setOptions","modelComplexity","smoothLandmarks","enableSegmentation","minDetectionConfidence","minTrackingConfidence","onResults","res","save","clearRect","drawImage","gx","gy","gW","gH","gradient","createLinearGradient","addColorStop","barH","barY","barGradient","fillStyle","fillRect","font","text","textX","measureText","strokeText","fillText","poseLandmarks","restore","vis","i","_lm$i$visibility","_lm$i","shouldersOK","hipsOK","Lsh","Rsh","Lhip","Rhip","hip","shMid","keyPoints","point","shadowColor","shadowBlur","arc","PI","fill","inside","every","shoulderWidthN","torsoHeightN","bufN","shift","avg","maxDev","shoulderPx","chestCmInstant","upperWaistCmInstant","hipFlatCm","pushMed","ref","val","n","s","sort","m","floor","chestMed","shoulderMed","waistMed","spread","stable","out","Number","upperWaistCm","undefined","quality","frames","spreadCm","setCalibration","retake","recalibrate","getStatusIcon","getPhaseColor","autoPlay","muted","playsInline","type","onChange","e","target","tshirtData","slice","rec","completeData","Object","keys","validation","warning","recommendedSize","measurementData","encodeURIComponent","JSON","stringify","gender","href","_c2","$RefreshReg$"],"sources":["/Users/dhirajbalayar/Desktop/fashion/frontend/src/pages/Measure.jsx"],"sourcesContent":["// src/pages/Measure.jsx\nimport React, { useRef, useEffect, useState, useCallback } from \"react\";\nimport { Pose } from \"@mediapipe/pose\";\nimport { Camera } from \"@mediapipe/camera_utils\";\nimport { Camera as CameraIcon, Sparkles, Activity, Target, RotateCcw, Download } from 'lucide-react';\n\n/* ---------- Calibration ---------- */\nconst A4_WIDTH_CM = 21.0; // reference width\nconst CHEST_MULTIPLIER = 1.75; // shoulder flat → chest circumference (tune 1.70–1.85)\nconst UPPER_WAIST_FACTOR = 0.90; // hip width ≈ a bit wider than upper waist\n\n/* ---------- Overlay helpers ---------- */\nconst UPPER = [\n  [0,1],[1,2],[2,3],[3,7],\n  [0,11],[0,12],\n  [11,13],[13,15],\n  [12,14],[14,16],\n  [11,12],\n  [11,23],[12,24],\n];\nconst LOWER = [\n  [23,25],[25,27],[27,31],\n  [24,26],[26,28],[28,32],\n  [23,24],\n];\nconst drawSeg = (ctx, lm, a, b, color, width, W, H) => {\n  const A = lm[a], B = lm[b];\n  if (!A || !B) return;\n  if ((A.visibility ?? 0) < 0.4 || (B.visibility ?? 0) < 0.4) return;\n  ctx.strokeStyle = color; ctx.lineWidth = width;\n  ctx.beginPath(); ctx.moveTo(A.x*W, A.y*H); ctx.lineTo(B.x*W, B.y*H); ctx.stroke();\n};\nconst drawBBox = (ctx, lm, W, H, color=\"rgba(0,255,0,0.9)\") => {\n  const pts = lm.filter(p => (p?.visibility ?? 0) > 0.4);\n  if (!pts.length) return;\n  const xs = pts.map(p=>p.x*W), ys = pts.map(p=>p.y*H);\n  const minX = Math.max(0, Math.min(...xs)), maxX = Math.min(W, Math.max(...xs));\n  const minY = Math.max(0, Math.min(...ys)), maxY = Math.min(H, Math.max(...ys));\n  const pad = 8; ctx.strokeStyle = color; ctx.lineWidth = 3;\n  ctx.strokeRect(minX-pad, minY-pad, (maxX-minX)+pad*2, (maxY-minY)+pad*2);\n};\n\n/* ---------- T-Shirt Specific Measurements ---------- */\nconst getTshirtMeasurements = (chestCm, shoulderCm, waistCm, sleeveLengthCm = null, torsoLengthCm = null) => {\n  const measurements = {\n    essential: {\n      chest: chestCm,\n      shoulder: shoulderCm,\n      waist: waistCm\n    },\n    optional: {\n      sleeveLength: sleeveLengthCm,\n      torsoLength: torsoLengthCm\n    }\n  };\n  \n  // T-shirt fit recommendations based on measurements\n  const fitRecommendations = [];\n  \n  // Chest fit\n  if (chestCm < 85) {\n    fitRecommendations.push(\"Slim fit t-shirts recommended\");\n  } else if (chestCm > 105) {\n    fitRecommendations.push(\"Regular or relaxed fit t-shirts recommended\");\n  } else {\n    fitRecommendations.push(\"Standard fit t-shirts recommended\");\n  }\n  \n  // Shoulder fit\n  if (shoulderCm < 40) {\n    fitRecommendations.push(\"Narrow shoulder t-shirts recommended\");\n  } else if (shoulderCm > 55) {\n    fitRecommendations.push(\"Wide shoulder t-shirts recommended\");\n  }\n  \n  // Waist fit\n  if (waistCm < 70) {\n    fitRecommendations.push(\"Slim waist t-shirts recommended\");\n  } else if (waistCm > 90) {\n    fitRecommendations.push(\"Regular waist t-shirts recommended\");\n  }\n  \n  // Sleeve recommendations\n  if (sleeveLengthCm) {\n    if (sleeveLengthCm < 20) {\n      fitRecommendations.push(\"Short sleeve t-shirts recommended\");\n    } else if (sleeveLengthCm > 30) {\n      fitRecommendations.push(\"Long sleeve t-shirts recommended\");\n    }\n  }\n  \n  // Torso length recommendations\n  if (torsoLengthCm) {\n    if (torsoLengthCm < 60) {\n      fitRecommendations.push(\"Regular length t-shirts recommended\");\n    } else if (torsoLengthCm > 75) {\n      fitRecommendations.push(\"Long torso t-shirts recommended\");\n    }\n  }\n  \n  return {\n    measurements,\n    fitRecommendations,\n    tshirtSize: recommendTopSize(chestCm, waistCm, shoulderCm)\n  };\n};\n\n/* ---------- Size recommendation (using all three measurements) ---------- */\nconst recommendTopSize = (chestCm, waistCm, shoulderCm) => {\n  if (!chestCm || !waistCm || !shoulderCm || chestCm <= 0 || waistCm <= 0 || shoulderCm <= 0) {\n    return null;\n  }\n  \n  // UPPER BODY MEASUREMENT REQUIREMENTS:\n  // 1. Chest: Measured around the fullest part of the chest (bust for women, chest for men)\n  // 2. Shoulder: Measured across the back from shoulder tip to shoulder tip\n  // 3. Waist: Measured around the natural waistline (narrowest part of torso)\n  \n  // REALISTIC SIZE RANGES FOR ADULTS (in cm):\n  // XXS: Chest 76-81, Shoulder 35-38, Waist 58-63\n  // XS:  Chest 81-86, Shoulder 38-41, Waist 63-68  \n  // S:   Chest 86-91, Shoulder 41-44, Waist 68-73\n  // M:   Chest 91-96, Shoulder 44-47, Waist 73-78\n  // L:   Chest 96-101, Shoulder 47-50, Waist 78-83\n  // XL:  Chest 101-106, Shoulder 50-53, Waist 83-88\n  // XXL: Chest 106-111, Shoulder 53-56, Waist 88-93\n  // 3XL: Chest 111-116, Shoulder 56-59, Waist 93-98\n  // 4XL: Chest 116+, Shoulder 59+, Waist 98+\n  \n  // BALANCED SIZE CALCULATION - All 3 measurements matter equally!\n  \n  // 1. Calculate individual size scores for each measurement\n  const getSizeScore = (value, ranges) => {\n    if (value < ranges.XXS.max) return 0;      // XXS\n    if (value < ranges.XS.max) return 1;       // XS\n    if (value < ranges.S.max) return 2;        // S\n    if (value < ranges.M.max) return 3;        // M\n    if (value < ranges.L.max) return 4;        // L\n    if (value < ranges.XL.max) return 5;       // XL\n    if (value < ranges.XXL.max) return 6;      // XXL\n    if (value < ranges.threeXL.max) return 7;  // 3XL\n    return 8;                                   // 4XL\n  };\n  \n  // Size ranges for each measurement type\n  const chestRanges = {\n    XXS: { min: 0, max: 81 },\n    XS: { min: 81, max: 86 },\n    S: { min: 86, max: 91 },\n    M: { min: 91, max: 96 },\n    L: { min: 96, max: 101 },\n    XL: { min: 101, max: 106 },\n    XXL: { min: 106, max: 111 },\n    threeXL: { min: 111, max: 116 },\n    fourXL: { min: 116, max: 999 }\n  };\n  \n  const shoulderRanges = {\n    XXS: { min: 0, max: 38 },\n    XS: { min: 38, max: 41 },\n    S: { min: 41, max: 44 },\n    M: { min: 44, max: 47 },\n    L: { min: 47, max: 50 },\n    XL: { min: 50, max: 53 },\n    XXL: { min: 53, max: 56 },\n    threeXL: { min: 56, max: 59 },\n    fourXL: { min: 59, max: 999 }\n  };\n  \n  const waistRanges = {\n    XXS: { min: 0, max: 63 },\n    XS: { min: 63, max: 68 },\n    S: { min: 68, max: 73 },\n    M: { min: 73, max: 78 },\n    L: { min: 78, max: 83 },\n    XL: { min: 83, max: 88 },\n    XXL: { min: 88, max: 93 },\n    threeXL: { min: 93, max: 98 },\n    fourXL: { min: 98, max: 999 }\n  };\n  \n  // 2. Get individual size scores\n  const chestScore = getSizeScore(chestCm, chestRanges);\n  const shoulderScore = getSizeScore(shoulderCm, shoulderRanges);\n  const waistScore = getSizeScore(waistCm, waistRanges);\n  \n  // 3. Calculate weighted average (all measurements equally important)\n  const averageScore = (chestScore + shoulderScore + waistScore) / 3;\n  \n  // 4. Apply body proportion adjustments\n  let finalScore = averageScore;\n  \n  // Waist-to-chest ratio adjustment (body shape indicator)\n  const waistChestRatio = waistCm / chestCm;\n  if (waistChestRatio < 0.70) {\n    // Very slim/athletic build - go down slightly\n    finalScore -= 0.3;\n  } else if (waistChestRatio > 0.90) {\n    // Fuller build - go up slightly\n    finalScore += 0.3;\n  }\n  \n  // Shoulder-to-chest ratio adjustment (shoulder width indicator)\n  const shoulderChestRatio = shoulderCm / chestCm;\n  if (shoulderChestRatio > 0.60) {\n    // Very broad shoulders - go up slightly\n    finalScore += 0.2;\n  } else if (shoulderChestRatio < 0.40) {\n    // Very narrow shoulders - go down slightly\n    finalScore -= 0.2;\n  }\n  \n  // 5. Convert score to size with bounds checking\n  const sizeOrder = ['XXS', 'XS', 'S', 'M', 'L', 'XL', 'XXL', '3XL', '4XL'];\n  const sizeIndex = Math.max(0, Math.min(sizeOrder.length - 1, Math.round(finalScore)));\n  const finalSize = sizeOrder[sizeIndex];\n  \n  // 6. Enhanced logging for debugging\n  console.log(`🎯 BALANCED UPPER BODY SIZE CALCULATION:`, {\n    measurements: {\n      chestCm: chestCm.toFixed(1),\n      shoulderCm: shoulderCm.toFixed(1),\n      waistCm: waistCm.toFixed(1)\n    },\n    individualScores: {\n      chestScore: `${chestScore} (${sizeOrder[chestScore]})`,\n      shoulderScore: `${shoulderScore} (${sizeOrder[chestScore]})`,\n      waistScore: `${waistScore} (${sizeOrder[waistScore]})`\n    },\n    calculation: {\n      averageScore: averageScore.toFixed(2),\n      proportionAdjustments: {\n        waistChestRatio: waistChestRatio.toFixed(3),\n        shoulderChestRatio: shoulderChestRatio.toFixed(3)\n      },\n      finalScore: finalScore.toFixed(2),\n      finalSize\n    },\n    recommendations: {\n      fit: getFitRecommendation(chestCm, shoulderCm, waistCm),\n      style: getStyleRecommendation(chestCm, shoulderCm),\n      dominantMeasurement: getDominantMeasurement(chestCm, shoulderCm, waistCm)\n    }\n  });\n  \n  return finalSize;\n};\n\n// Helper function to identify which measurement is most dominant\nconst getDominantMeasurement = (chestCm, shoulderCm, waistCm) => {\n  const chestScore = Math.abs(chestCm - 96); // Distance from M size (96cm)\n  const shoulderScore = Math.abs(shoulderCm - 45.5); // Distance from M size (45.5cm)\n  const waistScore = Math.abs(waistCm - 75.5); // Distance from M size (75.5cm)\n  \n  const minScore = Math.min(chestScore, shoulderScore, waistScore);\n  \n  if (minScore === chestScore) return \"Chest measurement is most dominant\";\n  if (minScore === shoulderScore) return \"Shoulder measurement is most dominant\";\n  return \"Waist measurement is most dominant\";\n};\n\n// Helper functions for t-shirt size ranges\nconst getChestRangeForSize = (size) => {\n  const ranges = {\n    'XXS': '76-81 cm',\n    'XS': '81-86 cm',\n    'S': '86-91 cm',\n    'M': '91-96 cm',\n    'L': '96-101 cm',\n    'XL': '101-106 cm',\n    'XXL': '106-111 cm',\n    '3XL': '111-116 cm',\n    '4XL': '116+ cm'\n  };\n  return ranges[size] || 'N/A';\n};\n\nconst getShoulderRangeForSize = (size) => {\n  const ranges = {\n    'XXS': '35-38 cm',\n    'XS': '38-41 cm',\n    'S': '41-44 cm',\n    'M': '44-47 cm',\n    'L': '47-50 cm',\n    'XL': '50-53 cm',\n    'XXL': '53-56 cm',\n    '3XL': '56-59 cm',\n    '4XL': '59+ cm'\n  };\n  return ranges[size] || 'N/A';\n};\n\n// Helper function to validate measurements\nconst validateMeasurements = (chestCm, shoulderCm, waistCm) => {\n  const warnings = [];\n  const errors = [];\n  \n  // Check for unrealistic measurements\n  if (chestCm < 60 || chestCm > 150) {\n    errors.push(`Chest measurement (${chestCm}cm) seems unrealistic. Expected range: 60-150cm`);\n  } else if (chestCm < 70 || chestCm > 130) {\n    warnings.push(`Chest measurement (${chestCm}cm) is outside normal adult range (70-130cm)`);\n  }\n  \n  if (shoulderCm < 25 || shoulderCm > 80) {\n    errors.push(`Shoulder measurement (${shoulderCm}cm) seems unrealistic. Expected range: 25-80cm`);\n  } else if (shoulderCm < 35 || shoulderCm > 65) {\n    warnings.push(`Shoulder measurement (${shoulderCm}cm) is outside normal adult range (35-65cm)`);\n  }\n  \n  if (waistCm < 40 || waistCm > 120) {\n    errors.push(`Waist measurement (${waistCm}cm) seems unrealistic. Expected range: 40-120cm`);\n  } else if (waistCm < 55 || waistCm > 100) {\n    warnings.push(`Waist measurement (${waistCm}cm) is outside normal adult range (55-100cm)`);\n  }\n  \n  // Check for proportion issues\n  if (chestCm && shoulderCm && waistCm) {\n    const shoulderChestRatio = shoulderCm / chestCm;\n    const waistChestRatio = waistCm / chestCm;\n    \n    if (shoulderChestRatio < 0.3 || shoulderChestRatio > 0.8) {\n      warnings.push(`Shoulder-to-chest ratio (${shoulderChestRatio.toFixed(2)}) seems unusual. Expected: 0.4-0.7`);\n    }\n    \n    if (waistChestRatio < 0.5 || waistChestRatio > 1.1) {\n      warnings.push(`Waist-to-chest ratio (${waistChestRatio.toFixed(2)}) seems unusual. Expected: 0.6-1.0`);\n    }\n  }\n  \n  return { warnings, errors, isValid: errors.length === 0 };\n};\n\n// Helper function to recommend fit type\nconst getFitRecommendation = (chestCm, shoulderCm, waistCm) => {\n  if (!chestCm || !shoulderCm || !waistCm) return \"Standard fit recommended\";\n  \n  const shoulderChestRatio = shoulderCm / chestCm;\n  const waistChestRatio = waistCm / chestCm;\n  \n  if (shoulderChestRatio > 0.55 && waistChestRatio < 0.80) {\n    return \"Athletic fit recommended (broad shoulders, slim waist)\";\n  } else if (shoulderChestRatio < 0.45 && waistChestRatio > 0.85) {\n    return \"Relaxed fit recommended (narrow shoulders, fuller waist)\";\n  } else if (waistChestRatio < 0.75) {\n    return \"Slim fit recommended (athletic build)\";\n  } else if (waistChestRatio > 0.90) {\n    return \"Regular/comfortable fit recommended\";\n  }\n  \n  return \"Standard fit recommended\";\n};\n\n// Helper function to recommend style\nconst getStyleRecommendation = (chestCm, shoulderCm) => {\n  if (!chestCm || !shoulderCm) return \"Regular style recommended\";\n  \n  const ratio = chestCm / shoulderCm;\n  if (ratio < 2.0) {\n    return \"Consider relaxed/oversized styles\";\n  } else if (ratio > 2.5) {\n    return \"Consider fitted/tailored styles\";\n  }\n  \n  return \"Regular style recommended\";\n};\n\n// Optional style hint based on proportions (very light heuristic)\nconst styleHint = (chestCm, shoulderCm) => {\n  if (!chestCm || !shoulderCm) return \"\";\n  const ratio = chestCm / (shoulderCm || 1); // ~3–5 normal range\n  if (ratio < 3.6) return \"Try regular/relaxed fits.\";\n  if (ratio > 4.6) return \"Slim or tailored fits may suit better.\";\n  return \"Regular fit is likely comfortable.\";\n};\n\n// Add error handling wrapper at the top of the component\nconst MediaPipeErrorBoundary = ({ children }) => {\n  const [hasError, setHasError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  if (hasError) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-indigo-900 flex items-center justify-center\">\n        <div className=\"bg-white/95 backdrop-blur-md rounded-3xl p-8 max-w-lg text-center\">\n          <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <span className=\"text-2xl\">⚠️</span>\n          </div>\n          <h2 className=\"text-2xl font-bold text-gray-800 mb-4\">MediaPipe Error</h2>\n          <p className=\"text-gray-600 mb-6\">{errorMessage}</p>\n          <div className=\"space-y-3\">\n            <button \n              onClick={() => window.location.reload()}\n              className=\"w-full bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-xl font-medium\"\n            >\n              🔄 Refresh Page\n            </button>\n            <button \n              onClick={() => setHasError(false)}\n              className=\"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 px-6 py-3 rounded-xl font-medium\"\n            >\n              🚫 Dismiss\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <ErrorBoundary\n      onError={(error) => {\n        console.error('MediaPipe Error:', error);\n        setErrorMessage(error.message || 'An error occurred with MediaPipe');\n        setHasError(true);\n      }}\n    >\n      {children}\n    </ErrorBoundary>\n  );\n};\n\n// Simple ErrorBoundary component\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    if (this.props.onError) {\n      this.props.onError(error);\n    }\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return null; // Let parent handle the error display\n    }\n    return this.props.children;\n  }\n}\n\n/* ---------- Complete Upper Body Measurement System ---------- */\nconst getCompleteUpperBodyMeasurements = (chestCm, shoulderCm, waistCm, neckCm = null, armLengthCm = null, bicepCm = null, backWidthCm = null, torsoLengthCm = null) => {\n  const measurements = {\n    essential: {\n      chest: chestCm,\n      shoulder: shoulderCm,\n      waist: waistCm\n    },\n    additional: {\n      neck: neckCm,\n      armLength: armLengthCm,\n      bicep: bicepCm,\n      backWidth: backWidthCm,\n      torsoLength: torsoLengthCm\n    }\n  };\n  \n  // Comprehensive fit recommendations for different clothing types\n  const clothingRecommendations = {\n    tshirts: getTshirtRecommendations(chestCm, shoulderCm, waistCm, bicepCm),\n    shirts: getShirtRecommendations(chestCm, shoulderCm, waistCm, neckCm, armLengthCm),\n    polos: getPoloRecommendations(chestCm, shoulderCm, waistCm, neckCm, armLengthCm),\n    sweaters: getSweaterRecommendations(chestCm, shoulderCm, waistCm, bicepCm, torsoLengthCm),\n    jackets: getJacketRecommendations(chestCm, shoulderCm, waistCm, backWidthCm, armLengthCm)\n  };\n  \n  return {\n    measurements,\n    clothingRecommendations,\n    overallSize: recommendCompleteUpperBodySize(chestCm, shoulderCm, waistCm, neckCm, armLengthCm, bicepCm, backWidthCm, torsoLengthCm)\n  };\n};\n\n// T-shirt specific recommendations\nconst getTshirtRecommendations = (chestCm, shoulderCm, waistCm, bicepCm) => {\n  const recommendations = [];\n  \n  // Fit type based on chest and waist ratio\n  const waistChestRatio = waistCm / chestCm;\n  if (waistChestRatio < 0.70) {\n    recommendations.push(\"Slim fit t-shirts recommended\");\n  } else if (waistChestRatio > 0.90) {\n    recommendations.push(\"Regular or relaxed fit t-shirts recommended\");\n  } else {\n    recommendations.push(\"Standard fit t-shirts recommended\");\n  }\n  \n  // Sleeve fit based on bicep\n  if (bicepCm && bicepCm > 40) {\n    recommendations.push(\"Look for t-shirts with stretchy or loose sleeves\");\n  }\n  \n  return recommendations;\n};\n\n// Shirt specific recommendations\nconst getShirtRecommendations = (chestCm, shoulderCm, waistCm, neckCm, armLengthCm) => {\n  const recommendations = [];\n  \n  // Collar size if neck measurement available\n  if (neckCm) {\n    if (neckCm < 35) recommendations.push(\"Small collar size (14-15 inches)\");\n    else if (neckCm < 40) recommendations.push(\"Medium collar size (15-16 inches)\");\n    else if (neckCm < 45) recommendations.push(\"Large collar size (16-17 inches)\");\n    else recommendations.push(\"Extra large collar size (17+ inches)\");\n  }\n  \n  // Sleeve length if arm length available\n  if (armLengthCm) {\n    if (armLengthCm < 60) recommendations.push(\"Short sleeve shirts recommended\");\n    else if (armLengthCm < 70) recommendations.push(\"Regular sleeve shirts recommended\");\n    else recommendations.push(\"Long sleeve shirts with custom sleeve length\");\n  }\n  \n  // Fit type\n  const waistChestRatio = waistCm / chestCm;\n  if (waistChestRatio < 0.75) {\n    recommendations.push(\"Slim fit shirts recommended\");\n  } else if (waistChestRatio > 0.85) {\n    recommendations.push(\"Regular or classic fit shirts recommended\");\n  } else {\n    recommendations.push(\"Standard fit shirts recommended\");\n  }\n  \n  return recommendations;\n};\n\n// Polo specific recommendations\nconst getPoloRecommendations = (chestCm, shoulderCm, waistCm, neckCm, armLengthCm) => {\n  const recommendations = [];\n  \n  // Collar recommendations\n  if (neckCm) {\n    if (neckCm < 38) recommendations.push(\"Small polo collar recommended\");\n    else if (neckCm < 43) recommendations.push(\"Medium polo collar recommended\");\n    else recommendations.push(\"Large polo collar recommended\");\n  }\n  \n  // Fit recommendations\n  const waistChestRatio = waistCm / chestCm;\n  if (waistChestRatio < 0.75) {\n    recommendations.push(\"Slim fit polos recommended\");\n  } else if (waistChestRatio > 0.85) {\n    recommendations.push(\"Regular fit polos recommended\");\n  } else {\n    recommendations.push(\"Standard fit polos recommended\");\n  }\n  \n  return recommendations;\n};\n\n// Sweater specific recommendations\nconst getSweaterRecommendations = (chestCm, shoulderCm, waistCm, bicepCm, torsoLengthCm) => {\n  const recommendations = [];\n  \n  // Fit type\n  const waistChestRatio = waistCm / chestCm;\n  if (waistChestRatio < 0.75) {\n    recommendations.push(\"Slim fit sweaters recommended\");\n  } else if (waistChestRatio > 0.85) {\n    recommendations.push(\"Regular or relaxed fit sweaters recommended\");\n  } else {\n    recommendations.push(\"Standard fit sweaters recommended\");\n  }\n  \n  // Length recommendations\n  if (torsoLengthCm) {\n    if (torsoLengthCm < 65) recommendations.push(\"Regular length sweaters recommended\");\n    else if (torsoLengthCm > 75) recommendations.push(\"Long torso sweaters recommended\");\n  }\n  \n  return recommendations;\n};\n\n// Jacket specific recommendations\nconst getJacketRecommendations = (chestCm, shoulderCm, waistCm, backWidthCm, armLengthCm) => {\n  const recommendations = [];\n  \n  // Fit type\n  const waistChestRatio = waistCm / chestCm;\n  if (waistChestRatio < 0.75) {\n    recommendations.push(\"Slim fit jackets recommended\");\n  } else if (waistChestRatio > 0.85) {\n    recommendations.push(\"Regular or classic fit jackets recommended\");\n  } else {\n    recommendations.push(\"Standard fit jackets recommended\");\n  }\n  \n  // Sleeve length\n  if (armLengthCm) {\n    if (armLengthCm < 60) recommendations.push(\"Short sleeve jackets recommended\");\n    else if (armLengthCm < 70) recommendations.push(\"Regular sleeve jackets recommended\");\n    else recommendations.push(\"Long sleeve jackets recommended\");\n  }\n  \n  return recommendations;\n};\n\n/* ---------- Complete Upper Body Size Recommendation ---------- */\nconst recommendCompleteUpperBodySize = (chestCm, shoulderCm, waistCm, neckCm = null, armLengthCm = null, bicepCm = null, backWidthCm = null, torsoLengthCm = null) => {\n  if (!chestCm || !shoulderCm || !waistCm || chestCm <= 0 || shoulderCm <= 0 || waistCm <= 0) {\n    return null;\n  }\n  \n  // COMPREHENSIVE UPPER BODY SIZE CALCULATION\n  // All measurements contribute to the final size recommendation\n  \n  // 1. Calculate individual size scores for each measurement\n  const getSizeScore = (value, ranges) => {\n    if (value < ranges.XXS.max) return 0;      // XXS\n    if (value < ranges.XS.max) return 1;       // XS\n    if (value < ranges.S.max) return 2;        // S\n    if (value < ranges.M.max) return 3;        // M\n    if (value < ranges.L.max) return 4;        // L\n    if (value < ranges.XL.max) return 5;       // XL\n    if (value < ranges.XXL.max) return 6;      // XXL\n    if (value < ranges.threeXL.max) return 7;  // 3XL\n    return 8;                                   // 4XL\n  };\n  \n  // Comprehensive size ranges for all measurements\n  const measurementRanges = {\n    chest: {\n      XXS: { min: 0, max: 81 },\n      XS: { min: 81, max: 86 },\n      S: { min: 86, max: 91 },\n      M: { min: 91, max: 96 },\n      L: { min: 96, max: 101 },\n      XL: { min: 101, max: 106 },\n      XXL: { min: 106, max: 111 },\n      threeXL: { min: 111, max: 116 },\n      fourXL: { min: 116, max: 999 }\n    },\n    shoulder: {\n      XXS: { min: 0, max: 38 },\n      XS: { min: 38, max: 41 },\n      S: { min: 41, max: 44 },\n      M: { min: 44, max: 47 },\n      L: { min: 47, max: 50 },\n      XL: { min: 50, max: 53 },\n      XXL: { min: 53, max: 56 },\n      threeXL: { min: 56, max: 59 },\n      fourXL: { min: 59, max: 999 }\n    },\n    waist: {\n      XXS: { min: 0, max: 63 },\n      XS: { min: 63, max: 68 },\n      S: { min: 68, max: 73 },\n      M: { min: 73, max: 78 },\n      L: { min: 78, max: 83 },\n      XL: { min: 83, max: 88 },\n      XXL: { min: 88, max: 93 },\n      threeXL: { min: 93, max: 98 },\n      fourXL: { min: 98, max: 999 }\n    },\n    neck: {\n      XXS: { min: 0, max: 35 },\n      XS: { min: 35, max: 37 },\n      S: { min: 37, max: 39 },\n      M: { min: 39, max: 41 },\n      L: { min: 41, max: 43 },\n      XL: { min: 43, max: 45 },\n      XXL: { min: 45, max: 47 },\n      threeXL: { min: 47, max: 49 },\n      fourXL: { min: 49, max: 999 }\n    },\n    armLength: {\n      XXS: { min: 0, max: 55 },\n      XS: { min: 55, max: 60 },\n      S: { min: 60, max: 65 },\n      M: { min: 65, max: 70 },\n      L: { min: 70, max: 75 },\n      XL: { min: 75, max: 80 },\n      XXL: { min: 80, max: 85 },\n      threeXL: { min: 85, max: 90 },\n      fourXL: { min: 90, max: 999 }\n    },\n    bicep: {\n      XXS: { min: 0, max: 28 },\n      XS: { min: 28, max: 31 },\n      S: { min: 31, max: 34 },\n      M: { min: 34, max: 37 },\n      L: { min: 37, max: 40 },\n      XL: { min: 40, max: 43 },\n      XXL: { min: 43, max: 46 },\n      threeXL: { min: 46, max: 49 },\n      fourXL: { min: 49, max: 999 }\n    }\n  };\n  \n  // 2. Get individual size scores for available measurements\n  const scores = [];\n  scores.push(getSizeScore(chestCm, measurementRanges.chest));\n  scores.push(getSizeScore(shoulderCm, measurementRanges.shoulder));\n  scores.push(getSizeScore(waistCm, measurementRanges.waist));\n  \n  if (neckCm) scores.push(getSizeScore(neckCm, measurementRanges.neck));\n  if (armLengthCm) scores.push(getSizeScore(armLengthCm, measurementRanges.armLength));\n  if (bicepCm) scores.push(getSizeScore(bicepCm, measurementRanges.bicep));\n  \n  // 3. Calculate weighted average (all measurements equally important)\n  const averageScore = scores.reduce((sum, score) => sum + score, 0) / scores.length;\n  \n  // 4. Apply body proportion adjustments\n  let finalScore = averageScore;\n  \n  // Waist-to-chest ratio adjustment (body shape indicator)\n  const waistChestRatio = waistCm / chestCm;\n  if (waistChestRatio < 0.70) {\n    // Very slim/athletic build - go down slightly\n    finalScore -= 0.3;\n  } else if (waistChestRatio > 0.90) {\n    // Fuller build - go up slightly\n    finalScore += 0.3;\n  }\n  \n  // Shoulder-to-chest ratio adjustment (shoulder width indicator)\n  const shoulderChestRatio = shoulderCm / chestCm;\n  if (shoulderChestRatio > 0.60) {\n    // Very broad shoulders - go up slightly\n    finalScore += 0.2;\n  } else if (shoulderChestRatio < 0.40) {\n    // Very narrow shoulders - go down slightly\n    finalScore -= 0.2;\n  }\n  \n  // 5. Convert score to size with bounds checking\n  const sizeOrder = ['XXS', 'XS', 'S', 'M', 'L', 'XL', 'XXL', '3XL', '4XL'];\n  const sizeIndex = Math.max(0, Math.min(sizeOrder.length - 1, Math.round(finalScore)));\n  const finalSize = sizeOrder[sizeIndex];\n  \n  // 6. Enhanced logging for debugging\n  console.log(`🎯 COMPLETE UPPER BODY SIZE CALCULATION:`, {\n    measurements: {\n      chestCm: chestCm.toFixed(1),\n      shoulderCm: shoulderCm.toFixed(1),\n      waistCm: waistCm.toFixed(1),\n      neckCm: neckCm?.toFixed(1) || 'N/A',\n      armLengthCm: armLengthCm?.toFixed(1) || 'N/A',\n      bicepCm: bicepCm?.toFixed(1) || 'N/A',\n      backWidthCm: backWidthCm?.toFixed(1) || 'N/A',\n      torsoLengthCm: torsoLengthCm?.toFixed(1) || 'N/A'\n    },\n    calculation: {\n      individualScores: scores.map((score, index) => `${score} (${sizeOrder[score]})`),\n      averageScore: averageScore.toFixed(2),\n      proportionAdjustments: {\n        waistChestRatio: waistChestRatio.toFixed(3),\n        shoulderChestRatio: shoulderChestRatio.toFixed(3)\n      },\n      finalScore: finalScore.toFixed(2),\n      finalSize\n    },\n    recommendations: {\n      measurementCount: scores.length,\n      dominantMeasurement: getDominantMeasurement(chestCm, shoulderCm, waistCm),\n      confidence: scores.length >= 5 ? 'High' : scores.length >= 3 ? 'Medium' : 'Low'\n    }\n  });\n  \n  return finalSize;\n};\n\nexport default function Measure() {\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const poseRef = useRef(null);\n  const camRef = useRef(null);\n\n  const [phase, setPhase] = useState(\"calibrate\"); // 'calibrate' | 'measure' | 'locked'\n  const [status, setStatus] = useState(\"Hold an A4 sheet at chest level and match the bar width.\");\n  const [barPx, setBarPx] = useState(300);\n  const [cmPerPx, setCmPerPx] = useState(null);\n // 'Men' | 'Women' | 'Unisex'\n\n  const [locked, setLocked] = useState(false);\n  const [meas, setMeas] = useState(null); // { chestCm, shoulderCm, upperWaistCm, quality }\n\n  // stability settings\n  const GUIDE_MARGIN = 0.08;\n  const STABILITY_FRAMES = 12;\n  const MOVEMENT_EPS = 0.015;\n  const recentShoulderN = useRef([]);\n  const chestBuf = useRef([]);\n  const shoulderBuf = useRef([]);\n  const waistBuf = useRef([]);\n\n  const getDistance = useCallback((a,b)=>Math.hypot(a.x-b.x,a.y-b.y),[]);\n\n  const stopCamera = () => {\n    try {\n      camRef.current?.stop?.();\n      const v = videoRef.current;\n      v?.srcObject && v.srcObject.getTracks().forEach(t=>t.stop());\n      if (v) v.srcObject = null;\n    } catch {}\n  };\n\n  const startCamera = async (pose) => {\n    const v = videoRef.current;\n    const camera = new Camera(v, {\n      onFrame: async () => { await pose.send({ image: v }); },\n      width: 1280, height: 720,\n    });\n    camRef.current = camera;\n    camera.start();\n  };\n\n    useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n\n    // Simple MediaPipe initialization with error handling\n    try {\n      const pose = new Pose({\n        // Load from local public assets & force non‑SIMD to avoid WASM crash\n        locateFile: (file) => `/mediapipe/pose/${file.replace('simd_', '')}`,\n      });\n      poseRef.current = pose;\n\n      pose.setOptions({\n        modelComplexity: 0, // Use lowest complexity to avoid crashes\n        smoothLandmarks: true,\n        enableSegmentation: false,\n        minDetectionConfidence: 0.6, // Higher confidence for stability\n        minTrackingConfidence: 0.6,\n      });\n\n      pose.onResults((res) => {\n        if (locked) return;\n\n        const W = res.image.width, H = res.image.height;\n        if (canvas.width !== W) canvas.width = W;\n        if (canvas.height !== H) canvas.height = H;\n\n      ctx.save();\n      ctx.clearRect(0,0,W,H);\n      ctx.drawImage(res.image,0,0,W,H);\n\n      // Enhanced guide box with gradient\n      const gx = W*GUIDE_MARGIN, gy = H*GUIDE_MARGIN;\n      const gW = W*(1-GUIDE_MARGIN*2), gH = H*(1-GUIDE_MARGIN*2);\n      const gradient = ctx.createLinearGradient(gx, gy, gx + gW, gy + gH);\n      gradient.addColorStop(0, \"rgba(59, 130, 246, 0.8)\"); // Blue\n      gradient.addColorStop(0.5, \"rgba(16, 185, 129, 0.8)\"); // Emerald\n      gradient.addColorStop(1, \"rgba(139, 92, 246, 0.8)\"); // Purple\n      ctx.strokeStyle = gradient;\n      ctx.lineWidth = 4; \n      ctx.strokeRect(gx, gy, gW, gH);\n\n      // calibration bar with better styling\n      if (phase === \"calibrate\") {\n        const barH = 20;\n        const barY = H * 0.12;\n        \n        // Bar background with gradient\n        const barGradient = ctx.createLinearGradient((W-barPx)/2, barY, (W-barPx)/2 + barPx, barY);\n        barGradient.addColorStop(0, \"rgba(59, 130, 246, 0.9)\");\n        barGradient.addColorStop(1, \"rgba(16, 185, 129, 0.9)\");\n        ctx.fillStyle = barGradient;\n        ctx.fillRect((W-barPx)/2, barY, barPx, barH);\n        \n        // Bar border\n        ctx.strokeStyle = \"rgba(255, 255, 255, 0.9)\";\n        ctx.lineWidth = 2;\n        ctx.strokeRect((W-barPx)/2, barY, barPx, barH);\n        \n        // Instruction text with better styling\n        ctx.font = \"16px system-ui, -apple-system, sans-serif\";\n        ctx.fillStyle = \"rgba(255, 255, 255, 0.95)\";\n        ctx.strokeStyle = \"rgba(0, 0, 0, 0.5)\";\n        ctx.lineWidth = 3;\n        const text = \"Match this bar to A4 width (21 cm) at chest depth\";\n        const textX = Math.max(20, (W - ctx.measureText(text).width) / 2);\n        ctx.strokeText(text, textX, barY - 15);\n        ctx.fillText(text, textX, barY - 15);\n      }\n\n      const lm = res.poseLandmarks;\n      if (!lm) { setStatus(\"Detecting body…\"); ctx.restore(); return; }\n\n      // Enhanced overlay with better colors\n      drawBBox(ctx, lm, W, H, \"rgba(16, 185, 129, 0.9)\");\n      UPPER.forEach(([a,b])=>drawSeg(ctx,lm,a,b,\"#3B82F6\",4,W,H)); // Blue\n      LOWER.forEach(([a,b])=>drawSeg(ctx,lm,a,b,\"#F59E0B\",4,W,H)); // Amber\n\n      const vis = (i) => (lm[i]?.visibility ?? 0) > 0.45;\n      const shouldersOK = vis(11) && vis(12);\n      const hipsOK = vis(23) || vis(24);\n      if (!(shouldersOK && hipsOK)) { setStatus(\"Show shoulders & upper torso.\"); ctx.restore(); return; }\n\n      const Lsh = lm[11], Rsh = lm[12];\n      const Lhip = lm[23], Rhip = lm[24];\n      const hip = vis(23) ? Lhip : Rhip;\n\n      // Enhanced key dots with glow effect\n      const shMid = { x:(Lsh.x+Rsh.x)/2, y:(Lsh.y+Rsh.y)/2 };\n      const keyPoints = [\n        { point: Lsh, color: \"#3B82F6\" },\n        { point: Rsh, color: \"#3B82F6\" },\n        { point: shMid, color: \"#10B981\" },\n        { point: hip, color: \"#F59E0B\" }\n      ];\n      \n      keyPoints.forEach(({point, color}) => {\n        if (point) {\n          // Glow effect\n          ctx.shadowColor = color;\n          ctx.shadowBlur = 15;\n          ctx.fillStyle = color;\n          ctx.beginPath(); \n          ctx.arc(point.x*W, point.y*H, 8, 0, Math.PI*2); \n          ctx.fill();\n          \n          // Inner bright dot\n          ctx.shadowBlur = 0;\n          ctx.fillStyle = \"white\";\n          ctx.beginPath(); \n          ctx.arc(point.x*W, point.y*H, 4, 0, Math.PI*2); \n          ctx.fill();\n        }\n      });\n      ctx.shadowBlur = 0;\n\n      // must be inside guide\n      const inside = [Lsh,Rsh,hip].every(p => p.x*W>=gx && p.x*W<=gx+gW && p.y*H>=gy && p.y*H<=gy+gH);\n      if (!inside) { setStatus(\"Step back/center inside the frame.\"); ctx.restore(); return; }\n\n      if (phase === \"calibrate\") { setStatus(\"Adjust bar → Set calibration.\"); ctx.restore(); return; }\n      if (!cmPerPx) { setStatus(\"Click Set calibration first.\"); ctx.restore(); return; }\n\n      // normalized stability\n      const shoulderWidthN = getDistance(Lsh,Rsh);\n      const torsoHeightN = getDistance(shMid, hip);\n      if (torsoHeightN <= 0) { setStatus(\"Hold still…\"); ctx.restore(); return; }\n\n      const bufN = recentShoulderN.current;\n      bufN.push(shoulderWidthN); if (bufN.length > STABILITY_FRAMES) bufN.shift();\n      const avg = bufN.reduce((a,b)=>a+b,0)/bufN.length;\n      const maxDev = Math.max(...bufN.map(v=>Math.abs(v-avg)));\n\n      // ----- measurements in cm -----\n      const shoulderPx = Math.abs((Lsh.x - Rsh.x) * W);\n      const shoulderCm = shoulderPx * cmPerPx;\n\n      const chestCmInstant = shoulderCm * CHEST_MULTIPLIER;\n\n      let upperWaistCmInstant = null;\n      if (vis(23) && vis(24)) {\n        const hipFlatCm = Math.abs((Lhip.x - Rhip.x) * W) * cmPerPx;\n        upperWaistCmInstant = hipFlatCm * UPPER_WAIST_FACTOR;\n      }\n\n      // median smoothing\n      const pushMed = (ref, val, n=15) => {\n        if (val==null) return null;\n        ref.current.push(val);\n        if (ref.current.length>n) ref.current.shift();\n        const s=[...ref.current].sort((a,b)=>a-b);\n        const m=Math.floor(s.length/2);\n        return s.length%2 ? s[m] : (s[m-1]+s[m])/2;\n      };\n      const chestMed = pushMed(chestBuf, chestCmInstant);\n      const shoulderMed = pushMed(shoulderBuf, shoulderCm);\n      const waistMed = pushMed(waistBuf, upperWaistCmInstant);\n\n      // stability: normalized shoulders + cm spread\n      const spread = chestBuf.current.length>=8 ? Math.max(...chestBuf.current)-Math.min(...chestBuf.current) : 999;\n      const stable = bufN.length>=STABILITY_FRAMES && maxDev < MOVEMENT_EPS && spread < 1.8; // slightly relaxed\n\n      if (stable && chestMed && shoulderMed) {\n        const out = {\n          chestCm: Number(chestMed.toFixed(1)),\n          shoulderCm: Number(shoulderMed.toFixed(1)),\n          upperWaistCm: waistMed ? Number(waistMed.toFixed(1)) : undefined,\n          quality: { frames: chestBuf.current.length, spreadCm: Number(spread.toFixed(2)) }\n        };\n        setMeas(out);\n        setLocked(true);\n        setPhase(\"locked\");\n        setStatus(\"Locked ✔️\");\n        stopCamera();\n      } else {\n        setStatus(\"Hold still…\");\n      }\n\n      ctx.restore();\n    });\n\n    startCamera(pose);\n    return () => { stopCamera(); };\n  } catch (error) {\n    console.error(\"❌ MediaPipe initialization failed:\", error);\n    setStatus(`MediaPipe Error: ${error.message}. Please refresh the page.`);\n    setPhase(\"error\");\n  }\n  }, [phase, cmPerPx, getDistance, locked, barPx]);\n\n  const setCalibration = () => {\n    if (barPx < 40) return;\n    setCmPerPx(A4_WIDTH_CM / barPx);\n    setPhase(\"measure\");\n    setStatus(\"Calibration set. Stand centered; shoulders & upper torso visible.\");\n    // reset buffers\n    chestBuf.current = []; shoulderBuf.current = []; waistBuf.current = []; recentShoulderN.current = [];\n  };\n\n  const retake = () => {\n    setLocked(false); setMeas(null); setPhase(\"measure\");\n    setStatus(\"Stand centered; hold still 1–2 seconds.\");\n    chestBuf.current = []; shoulderBuf.current = []; waistBuf.current = []; recentShoulderN.current = [];\n    if (poseRef.current) startCamera(poseRef.current);\n  };\n\n  const recalibrate = () => {\n    setLocked(false); setMeas(null); setPhase(\"calibrate\");\n    setStatus(\"Hold an A4 sheet at chest level and match the bar width.\");\n    chestBuf.current = []; shoulderBuf.current = []; waistBuf.current = []; recentShoulderN.current = [];\n    if (poseRef.current) startCamera(poseRef.current);\n  };\n\n  // Helper functions for UI\n  const getStatusIcon = () => {\n    if (phase === \"locked\") return <span className=\"text-emerald-500 text-xl\">✅</span>;\n    if (phase === \"measure\") return <Activity className=\"w-5 h-5 text-blue-500 animate-pulse\" />;\n    return <Target className=\"w-5 h-5 text-amber-500\" />;\n  };\n\n  const getPhaseColor = () => {\n    if (phase === \"locked\") return \"from-emerald-500 to-green-500\";\n    if (phase === \"measure\") return \"from-blue-500 to-cyan-500\";\n    return \"from-amber-500 to-orange-500\";\n  };\n\n  return (\n    <MediaPipeErrorBoundary>\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-indigo-900 relative overflow-hidden\">\n        {/* Animated Background */}\n        <div className=\"absolute inset-0\">\n          <div className=\"absolute top-10 left-10 w-72 h-72 bg-blue-500/10 rounded-full blur-3xl animate-pulse\"></div>\n          <div className=\"absolute bottom-10 right-10 w-96 h-96 bg-emerald-500/10 rounded-full blur-3xl animate-pulse delay-1000\"></div>\n          <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-2000\"></div>\n        </div>\n\n        <div className=\"relative z-10 flex flex-col items-center min-h-screen\">\n          {/* Enhanced Header */}\n          <div className=\"w-full max-w-7xl flex items-center justify-between px-6 py-6\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"w-12 h-12 bg-gradient-to-r from-blue-500 to-emerald-500 rounded-2xl flex items-center justify-center shadow-lg\">\n                <Sparkles className=\"w-7 h-7 text-white\" />\n              </div>\n              <div>\n                <h1 className=\"text-2xl font-bold text-white\">AI Fashion Fit</h1>\n                <p className=\"text-sm text-blue-200\">Body Measurement System</p>\n              </div>\n            </div>\n            \n            {/* Enhanced Status Badge */}\n            <div className=\"flex items-center space-x-3\">\n              <div className={`bg-gradient-to-r ${getPhaseColor()} rounded-full px-6 py-3 shadow-lg backdrop-blur-sm border border-white/10`}>\n                <div className=\"flex items-center space-x-3 text-white\">\n                  {getStatusIcon()}\n                  <span className=\"font-medium text-sm\">{status}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Enhanced Camera Section */}\n          <div className=\"w-full max-w-6xl px-6 flex-1 flex items-center\">\n            <div className=\"relative w-full bg-black/20 backdrop-blur-lg rounded-3xl overflow-hidden shadow-2xl border border-white/10\">\n              <div className=\"relative aspect-video\">\n                <video ref={videoRef} className=\"absolute inset-0 w-full h-full object-contain bg-black rounded-3xl\" autoPlay muted playsInline />\n                <canvas ref={canvasRef} className=\"absolute inset-0 w-full h-full object-contain pointer-events-none\" />\n\n                {/* Enhanced Calibration UI */}\n                {phase === \"calibrate\" && (\n                  <div className=\"absolute bottom-6 left-1/2 transform -translate-x-1/2\">\n                    <div className=\"bg-white/95 backdrop-blur-md rounded-2xl px-6 py-4 shadow-2xl border border-white/20\">\n                      <div className=\"flex items-center space-x-4\">\n                        <div className=\"flex items-center space-x-2\">\n                          <Target className=\"w-5 h-5 text-amber-600\" />\n                          <span className=\"text-sm font-medium text-gray-700\">A4 width calibration</span>\n                        </div>\n                        <input \n                          type=\"range\" \n                          min={120} \n                          max={900} \n                          value={barPx} \n                          onChange={(e)=>setBarPx(Number(e.target.value))} \n                          className=\"w-64 accent-blue-500\"\n                        />\n                        <button \n                          onClick={setCalibration} \n                          className=\"bg-gradient-to-r from-blue-500 to-emerald-500 hover:from-blue-600 hover:to-emerald-600 text-white px-6 py-2 rounded-xl font-medium transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center space-x-2\"\n                        >\n                          <span className=\"text-white text-lg\">✅</span>\n                          <span>Set Calibration</span>\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n\n\n\n              </div>\n            </div>\n          </div>\n\n\n\n          {/* Enhanced Instructions */}\n          <div className=\"w-full max-w-4xl px-6 py-4\">\n            <div className=\"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20\">\n              <div className=\"text-center text-white\">\n                <div className=\"flex items-center justify-center space-x-2 mb-3\">\n                  <CameraIcon className=\"w-5 h-5 text-blue-300\" />\n                  <h3 className=\"font-semibold\">Instructions</h3>\n                </div>\n                <div className=\"text-sm text-white/80 space-y-2\">\n                  {phase === \"calibrate\" && (\n                    <>\n                      <p>📄 Hold an A4 sheet at chest level and adjust the bar to match its width for accurate calibration.</p>\n                      <p className=\"text-xs text-yellow-200\">⚠️ <strong>Critical:</strong> Proper calibration ensures accurate measurements. Wrong calibration = wrong size recommendations!</p>\n                    </>\n                  )}\n                  {phase === \"measure\" && (\n                    <>\n                      <p>🧍 Stand straight with arms slightly away from your body. Hold still for precise measurement.</p>\n                      <p className=\"text-xs text-blue-200\">📏 <strong>Upper Body Measurements:</strong> Chest (fullest part), Shoulders (tip to tip), Waist (narrowest part)</p>\n                    </>\n                  )}\n                  {phase === \"locked\" && (\n                    <>\n                      <p>✅ Measurements captured successfully! You can retake if needed or save your results.</p>\n                      <p className=\"text-xs text-green-200\">🎯 <strong>Size Logic:</strong> Based on chest measurement with adjustments for shoulder width and waist proportion</p>\n                    </>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Fallback Results Display - Always visible when measurements exist */}\n          {phase === \"locked\" && meas && (\n            <div className=\"w-full max-w-4xl px-6 py-6\">\n              <div className=\"bg-white/95 backdrop-blur-md rounded-2xl p-6 border border-gray-200 shadow-xl\">\n                <div className=\"text-center text-gray-800\">\n                  <h3 className=\"text-xl font-bold mb-4\">📊 Upper Body Measurement Results</h3>\n                  \n                  {/* Measurement Requirements Info */}\n                  <div className=\"bg-blue-50 rounded-xl p-4 mb-6 border border-blue-200\">\n                    <h4 className=\"font-semibold text-blue-800 mb-2\">📏 Upper Body Measurement Guide</h4>\n                    <div className=\"text-sm text-blue-700 space-y-1\">\n                      <p><strong>Chest:</strong> Around fullest part of chest (bust for women, chest for men)</p>\n                      <p><strong>Shoulder:</strong> Across back from shoulder tip to shoulder tip</p>\n                      <p><strong>Waist:</strong> Around natural waistline (narrowest part of torso)</p>\n                    </div>\n                  </div>\n                  \n                  {/* T-Shirt Specific Measurement Guide */}\n                  <div className=\"bg-green-50 rounded-xl p-4 mb-6 border border-green-200\">\n                    <h4 className=\"font-semibold text-green-800 mb-2\">👕 T-Shirt Measurement Guide</h4>\n                    <div className=\"text-sm text-green-700 space-y-2\">\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                        <div>\n                          <h5 className=\"font-medium text-green-800\">🎯 Essential Measurements:</h5>\n                          <ul className=\"text-xs space-y-1 mt-1\">\n                            <li>• <strong>Chest:</strong> Around fullest part (most important!)</li>\n                            <li>• <strong>Shoulder:</strong> Tip to tip across back</li>\n                            <li>• <strong>Waist:</strong> Natural waistline</li>\n                          </ul>\n                        </div>\n                        <div>\n                          <h5 className=\"font-medium text-green-800\">📏 Optional Measurements:</h5>\n                          <ul className=\"text-xs space-y-1 mt-1\">\n                            <li>• <strong>Sleeve Length:</strong> Shoulder to desired end</li>\n                            <li>• <strong>Torso Length:</strong> Shoulder to desired end</li>\n                          </ul>\n                        </div>\n                      </div>\n                      <div className=\"mt-2 p-2 bg-green-100 rounded border border-green-300\">\n                        <p className=\"text-xs text-green-800\">\n                          <strong>💡 Pro Tip:</strong> For t-shirts, chest measurement is most important, \n                          but shoulder width and waist also matter for proper fit!\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  {/* Complete Upper Body Measurement Guide */}\n                  <div className=\"bg-blue-50 rounded-xl p-4 mb-6 border border-blue-200\">\n                    <h4 className=\"font-semibold text-blue-800 mb-2\">🎯 Complete Upper Body Measurement System</h4>\n                    <div className=\"text-sm text-blue-700 space-y-3\">\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        <div>\n                          <h5 className=\"font-medium text-blue-800 mb-2\">📏 Essential Measurements (Must Have):</h5>\n                          <ul className=\"text-xs space-y-1\">\n                            <li>• <strong>Chest:</strong> Around fullest part of chest</li>\n                            <li>• <strong>Shoulder:</strong> Across back from tip to tip</li>\n                            <li>• <strong>Waist:</strong> Around natural waistline</li>\n                            <li>• <strong>Neck:</strong> Around base of neck</li>\n                            <li>• <strong>Arm Length:</strong> From shoulder tip to wrist</li>\n                            <li>• <strong>Bicep:</strong> Around fullest part of upper arm</li>\n                          </ul>\n                        </div>\n                        <div>\n                          <h5 className=\"font-medium text-blue-800 mb-2\">👔 Clothing Types Supported:</h5>\n                          <ul className=\"text-xs space-y-1\">\n                            <li>• <strong>T-Shirts:</strong> Basic fit and style</li>\n                            <li>• <strong>Shirts:</strong> Collar size and sleeve length</li>\n                            <li>• <strong>Polos:</strong> Collar and fit recommendations</li>\n                            <li>• <strong>Sweaters:</strong> Fit and length</li>\n                            <li>• <strong>Jackets:</strong> Fit and sleeve length</li>\n                          </ul>\n                        </div>\n                      </div>\n                      <div className=\"mt-2 p-2 bg-blue-100 rounded border border-blue-300\">\n                        <p className=\"text-xs text-blue-800\">\n                          <strong>🎯 Key Feature:</strong> This system calculates size based on ALL measurements, \n                          not just chest! More measurements = more accurate sizing.\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Measurements Grid */}\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n                    <div className=\"bg-blue-50 rounded-xl p-4 border border-blue-200\">\n                      <div className=\"text-2xl font-bold text-blue-600\">{meas.chestCm?.toFixed(1) || 'N/A'}</div>\n                      <div className=\"text-sm text-blue-500\">Chest (cm)</div>\n                      <div className=\"text-xs text-blue-400 mt-1\">\n                        {meas.chestCm ? (meas.chestCm < 81 ? 'XXS' : \n                                         meas.chestCm < 86 ? 'XS' : \n                                         meas.chestCm < 91 ? 'S' : \n                                         meas.chestCm < 96 ? 'M' : \n                                         meas.chestCm < 101 ? 'L' : \n                                         meas.chestCm < 106 ? 'XL' : \n                                         meas.chestCm < 111 ? 'XXL' : \n                                         meas.chestCm < 116 ? '3XL' : '4XL') : 'N/A'}\n                      </div>\n                    </div>\n                    <div className=\"bg-emerald-50 rounded-xl p-4 border border-emerald-200\">\n                      <div className=\"text-2xl font-bold text-emerald-600\">{meas.shoulderCm?.toFixed(1) || 'N/A'}</div>\n                      <div className=\"text-sm text-emerald-500\">Shoulder (cm)</div>\n                      <div className=\"text-xs text-emerald-400 mt-1\">\n                        {meas.shoulderCm ? (meas.shoulderCm < 38 ? 'Narrow' : \n                                           meas.shoulderCm < 47 ? 'Standard' : \n                                           meas.shoulderCm < 56 ? 'Broad' : 'Very Broad') : 'N/A'}\n                      </div>\n                    </div>\n                    <div className=\"bg-purple-50 rounded-xl p-4 border border-purple-200\">\n                      <div className=\"text-2xl font-bold text-purple-600\">{meas.upperWaistCm?.toFixed(1) || 'N/A'}</div>\n                      <div className=\"text-sm text-purple-500\">Waist (cm)</div>\n                      <div className=\"text-xs text-purple-400 mt-1\">\n                        {meas.upperWaistCm ? (meas.upperWaistCm < 63 ? 'XXS' : \n                                             meas.upperWaistCm < 68 ? 'XS' : \n                                             meas.upperWaistCm < 73 ? 'S' : \n                                             meas.upperWaistCm < 78 ? 'M' : \n                                             meas.upperWaistCm < 83 ? 'L' : \n                                             meas.upperWaistCm < 88 ? 'XL' : \n                                             meas.upperWaistCm < 93 ? 'XXL' : \n                                             meas.upperWaistCm < 98 ? '3XL' : '4XL') : 'N/A'}\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Size Recommendation with Explanation */}\n                  <div className=\"bg-gradient-to-r from-blue-50 to-emerald-50 rounded-xl p-4 mb-6 border border-blue-200\">\n                    <div className=\"text-lg font-semibold text-gray-700 mb-2\">🎯 Recommended Size</div>\n                    <div className=\"text-3xl font-bold bg-gradient-to-r from-blue-600 to-emerald-600 bg-clip-text text-transparent mb-2\">\n                      {recommendTopSize(meas.chestCm, meas.upperWaistCm, meas.shoulderCm)}\n                    </div>\n                    <div className=\"text-sm text-gray-600 mb-3\">\n                      Based on <strong>all three measurements equally</strong> (not just chest!)\n                    </div>\n                    \n                    {/* Individual Measurement Contributions */}\n                    <div className=\"bg-white/50 rounded-lg p-3 border border-blue-200\">\n                      <h5 className=\"text-sm font-medium text-blue-800 mb-2\">📊 How Each Measurement Contributes:</h5>\n                      <div className=\"grid grid-cols-3 gap-2 text-xs\">\n                        <div className=\"text-center\">\n                          <div className=\"font-semibold text-blue-600\">Chest</div>\n                          <div className=\"text-blue-500\">{meas.chestCm?.toFixed(1)} cm</div>\n                          <div className=\"text-blue-400\">\n                            {meas.chestCm ? (meas.chestCm < 81 ? 'XXS' : \n                                             meas.chestCm < 86 ? 'XS' : \n                                             meas.chestCm < 91 ? 'S' : \n                                             meas.chestCm < 96 ? 'M' : \n                                             meas.chestCm < 101 ? 'L' : \n                                             meas.chestCm < 106 ? 'XL' : \n                                             meas.chestCm < 111 ? 'XXL' : \n                                             meas.chestCm < 116 ? '3XL' : '4XL') : 'N/A'}\n                          </div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"font-semibold text-emerald-600\">Shoulder</div>\n                          <div className=\"text-emerald-500\">{meas.shoulderCm?.toFixed(1)} cm</div>\n                          <div className=\"text-emerald-400\">\n                            {meas.shoulderCm ? (meas.shoulderCm < 38 ? 'XXS' : \n                                               meas.shoulderCm < 41 ? 'XS' : \n                                               meas.shoulderCm < 44 ? 'S' : \n                                               meas.shoulderCm < 47 ? 'M' : \n                                               meas.shoulderCm < 50 ? 'L' : \n                                               meas.shoulderCm < 53 ? 'XL' : \n                                               meas.shoulderCm < 56 ? 'XXL' : \n                                               meas.shoulderCm < 59 ? '3XL' : '4XL') : 'N/A'}\n                          </div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"font-semibold text-purple-600\">Waist</div>\n                          <div className=\"text-purple-500\">{meas.upperWaistCm?.toFixed(1)} cm</div>\n                          <div className=\"text-purple-400\">\n                            {meas.upperWaistCm ? (meas.upperWaistCm < 63 ? 'XXS' : \n                                                 meas.upperWaistCm < 68 ? 'XS' : \n                                                 meas.upperWaistCm < 73 ? 'S' : \n                                                 meas.upperWaistCm < 78 ? 'M' : \n                                                 meas.upperWaistCm < 83 ? 'L' : \n                                                 meas.upperWaistCm < 88 ? 'XL' : \n                                                 meas.upperWaistCm < 93 ? 'XXL' : \n                                                 meas.upperWaistCm < 98 ? '3XL' : '4XL') : 'N/A'}\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"text-xs text-blue-600 mt-2 text-center\">\n                        💡 <strong>Balanced Approach:</strong> All measurements contribute equally to final size\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Fit and Style Recommendations */}\n                  {meas.chestCm && meas.shoulderCm && meas.upperWaistCm && (\n                    <div className=\"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4 mb-6 border border-purple-200\">\n                      <h4 className=\"font-semibold text-purple-800 mb-2\">💡 Fit & Style Recommendations</h4>\n                      <div className=\"text-sm text-purple-700 space-y-2\">\n                        <p><strong>Fit:</strong> {getFitRecommendation(meas.chestCm, meas.shoulderCm, meas.upperWaistCm)}</p>\n                        <p><strong>Style:</strong> {getStyleRecommendation(meas.chestCm, meas.shoulderCm)}</p>\n                      </div>\n                    </div>\n                  )}\n\n                  {/* T-Shirt Specific Recommendations */}\n                  {meas.chestCm && meas.shoulderCm && meas.upperWaistCm && (() => {\n                    const tshirtData = getTshirtMeasurements(meas.chestCm, meas.shoulderCm, meas.upperWaistCm);\n                    return (\n                      <div className=\"bg-gradient-to-r from-green-50 to-blue-50 rounded-xl p-4 mb-6 border border-green-200\">\n                        <h4 className=\"font-semibold text-green-800 mb-2\">👕 T-Shirt Specific Recommendations</h4>\n                        <div className=\"text-sm text-green-700 space-y-2\">\n                          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                            <div>\n                              <h5 className=\"font-medium text-green-800 mb-1\">🎯 Fit Type:</h5>\n                              <ul className=\"text-xs space-y-1\">\n                                {tshirtData.fitRecommendations.slice(0, 3).map((rec, index) => (\n                                  <li key={index}>• {rec}</li>\n                                ))}\n                              </ul>\n                            </div>\n                            <div>\n                              <h5 className=\"font-medium text-green-800 mb-1\">📏 Size Guide:</h5>\n                              <div className=\"text-xs space-y-1\">\n                                <p><strong>Recommended:</strong> {tshirtData.tshirtSize}</p>\n                                <p><strong>Chest Range:</strong> {getChestRangeForSize(tshirtData.tshirtSize)}</p>\n                                <p><strong>Shoulder Range:</strong> {getShoulderRangeForSize(tshirtData.tshirtSize)}</p>\n                              </div>\n                            </div>\n                          </div>\n                          <div className=\"mt-2 p-2 bg-green-100 rounded border border-green-300\">\n                            <p className=\"text-xs text-green-800\">\n                              <strong>🛍️ Shopping Tip:</strong> Look for t-shirts labeled \"{tshirtData.tshirtSize}\" \n                              with the fit types recommended above for the best match!\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                    );\n                  })()}\n\n                  {/* Complete Upper Body Clothing Recommendations */}\n                  {meas.chestCm && meas.shoulderCm && meas.upperWaistCm && (() => {\n                    const completeData = getCompleteUpperBodyMeasurements(\n                      meas.chestCm, \n                      meas.shoulderCm, \n                      meas.upperWaistCm,\n                      null, // neckCm - not currently measured\n                      null, // armLengthCm - not currently measured\n                      null, // bicepCm - not currently measured\n                      null, // backWidthCm - not currently measured\n                      null  // torsoLengthCm - not currently measured\n                    );\n                    return (\n                      <div className=\"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl p-4 mb-6 border border-purple-200\">\n                        <h4 className=\"font-semibold text-purple-800 mb-2\">👔 Complete Upper Body Clothing Guide</h4>\n                        <div className=\"text-sm text-purple-700 space-y-3\">\n                          \n                          {/* Overall Size Recommendation */}\n                          <div className=\"bg-white/50 rounded-lg p-3 border border-purple-200\">\n                            <h5 className=\"font-medium text-purple-800 mb-2\">🎯 Overall Size Recommendation</h5>\n                            <div className=\"text-center\">\n                              <div className=\"text-2xl font-bold text-purple-600 mb-1\">{completeData.overallSize}</div>\n                              <div className=\"text-xs text-purple-600\">\n                                Based on {Object.keys(completeData.measurements.essential).length + \n                                (completeData.measurements.additional.neck ? 1 : 0) + \n                                (completeData.measurements.additional.armLength ? 1 : 0) + \n                                (completeData.measurements.additional.bicep ? 1 : 0)} measurements\n                              </div>\n                            </div>\n                          </div>\n\n                          {/* Clothing Type Recommendations */}\n                          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                            \n                            {/* T-Shirts */}\n                            <div className=\"bg-white/50 rounded-lg p-3 border border-purple-200\">\n                              <h6 className=\"font-medium text-purple-800 mb-1\">👕 T-Shirts</h6>\n                              <ul className=\"text-xs space-y-1\">\n                                {completeData.clothingRecommendations.tshirts.slice(0, 2).map((rec, index) => (\n                                  <li key={index}>• {rec}</li>\n                                ))}\n                              </ul>\n                            </div>\n\n                            {/* Shirts */}\n                            <div className=\"bg-white/50 rounded-lg p-3 border border-purple-200\">\n                              <h6 className=\"font-medium text-purple-800 mb-1\">👔 Shirts</h6>\n                              <ul className=\"text-xs space-y-1\">\n                                {completeData.clothingRecommendations.shirts.slice(0, 2).map((rec, index) => (\n                                  <li key={index}>• {rec}</li>\n                                ))}\n                              </ul>\n                            </div>\n\n                            {/* Polos */}\n                            <div className=\"bg-white/50 rounded-lg p-3 border border-purple-200\">\n                              <h6 className=\"font-medium text-purple-800 mb-1\">🎽 Polos</h6>\n                              <ul className=\"text-xs space-y-1\">\n                                {completeData.clothingRecommendations.polos.slice(0, 2).map((rec, index) => (\n                                  <li key={index}>• {rec}</li>\n                                ))}\n                              </ul>\n                            </div>\n\n                            {/* Sweaters */}\n                            <div className=\"bg-white/50 rounded-lg p-3 border border-purple-200\">\n                              <h6 className=\"font-medium text-purple-800 mb-1\">🧥 Sweaters</h6>\n                              <ul className=\"text-xs space-y-1\">\n                                {completeData.clothingRecommendations.sweaters.slice(0, 2).map((rec, index) => (\n                                  <li key={index}>• {rec}</li>\n                                ))}\n                              </ul>\n                            </div>\n\n                            {/* Jackets */}\n                            <div className=\"bg-white/50 rounded-lg p-3 border border-purple-200\">\n                              <h6 className=\"font-medium text-purple-800 mb-1\">🧥 Jackets</h6>\n                              <ul className=\"text-xs space-y-1\">\n                                {completeData.clothingRecommendations.jackets.slice(0, 2).map((rec, index) => (\n                                  <li key={index}>• {rec}</li>\n                                ))}\n                              </ul>\n                            </div>\n\n                            {/* Measurement Confidence */}\n                            <div className=\"bg-white/50 rounded-lg p-3 border border-purple-200\">\n                              <h6 className=\"font-medium text-purple-800 mb-1\">📊 Accuracy Level</h6>\n                              <div className=\"text-xs space-y-1\">\n                                <p><strong>Measurements:</strong> {Object.keys(completeData.measurements.essential).length + \n                                (completeData.measurements.additional.neck ? 1 : 0) + \n                                (completeData.measurements.additional.armLength ? 1 : 0) + \n                                (completeData.measurements.additional.bicep ? 1 : 0)}/6</p>\n                                <p><strong>Confidence:</strong> {Object.keys(completeData.measurements.essential).length + \n                                (completeData.measurements.additional.neck ? 1 : 0) + \n                                (completeData.measurements.additional.armLength ? 1 : 0) + \n                                (completeData.measurements.additional.bicep ? 1 : 0) >= 5 ? 'High' : \n                                Object.keys(completeData.measurements.essential).length + \n                                (completeData.measurements.additional.neck ? 1 : 0) + \n                                (completeData.measurements.additional.armLength ? 1 : 0) + \n                                (completeData.measurements.additional.bicep ? 1 : 0) >= 3 ? 'Medium' : 'Low'}</p>\n                              </div>\n                            </div>\n                          </div>\n\n                          <div className=\"mt-2 p-2 bg-purple-100 rounded border border-purple-300\">\n                            <p className=\"text-xs text-purple-800\">\n                              <strong>💡 Pro Tip:</strong> The more measurements you provide, the more accurate your size recommendations will be! \n                              This system considers ALL measurements, not just chest size.\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                    );\n                  })()}\n\n                  {/* Measurement Validation */}\n                  {meas.chestCm && meas.shoulderCm && meas.upperWaistCm && (() => {\n                    const validation = validateMeasurements(meas.chestCm, meas.shoulderCm, meas.upperWaistCm);\n                    if (validation.errors.length > 0 || validation.warnings.length > 0) {\n                      return (\n                        <div className=\"bg-yellow-50 rounded-xl p-4 mb-6 border border-yellow-200\">\n                          <h4 className=\"font-semibold text-yellow-800 mb-2\">⚠️ Measurement Validation</h4>\n                          {validation.errors.length > 0 && (\n                            <div className=\"mb-3\">\n                              <p className=\"text-sm font-medium text-red-700 mb-1\">❌ Critical Issues:</p>\n                              <ul className=\"text-xs text-red-600 space-y-1\">\n                                {validation.errors.map((error, index) => (\n                                  <li key={index}>• {error}</li>\n                                ))}\n                              </ul>\n                            </div>\n                          )}\n                          {validation.warnings.length > 0 && (\n                            <div>\n                              <p className=\"text-sm font-medium text-yellow-700 mb-1\">⚠️ Warnings:</p>\n                              <ul className=\"text-xs text-yellow-600 space-y-1\">\n                                {validation.warnings.map((warning, index) => (\n                                  <li key={index}>• {warning}</li>\n                                ))}\n                              </ul>\n                            </div>\n                          )}\n                          <div className=\"mt-3 p-2 bg-blue-50 rounded border border-blue-200\">\n                            <p className=\"text-xs text-blue-700\">\n                              <strong>💡 Tip:</strong> If measurements seem incorrect, try recalibrating with the A4 sheet or retaking the measurement.\n                            </p>\n                          </div>\n                        </div>\n                      );\n                    }\n                    return null;\n                  })()}\n\n                  {/* Size Chart Reference */}\n                  <div className=\"bg-gray-50 rounded-xl p-4 mb-6 border border-gray-200\">\n                    <h4 className=\"font-semibold text-gray-800 mb-2\">📋 Size Chart Reference</h4>\n                    <div className=\"text-xs text-gray-600 grid grid-cols-4 gap-2\">\n                      <div><strong>XXS:</strong> 76-81cm</div>\n                      <div><strong>XS:</strong> 81-86cm</div>\n                      <div><strong>S:</strong> 86-91cm</div>\n                      <div><strong>M:</strong> 91-96cm</div>\n                      <div><strong>L:</strong> 96-101cm</div>\n                      <div><strong>XL:</strong> 101-106cm</div>\n                      <div><strong>XXL:</strong> 106-111cm</div>\n                      <div><strong>3XL:</strong> 111-116cm</div>\n                    </div>\n                  </div>\n\n                  {/* Action Buttons */}\n                  <div className=\"flex flex-col sm:flex-row gap-3 justify-center\">\n                    <button \n                      onClick={retake}\n                      className=\"bg-gray-200 hover:bg-gray-300 text-gray-700 px-6 py-3 rounded-xl font-medium transition-all duration-300 border-2 border-gray-300\"\n                    >\n                      🔄 Retake\n                    </button>\n                    <button \n                      onClick={recalibrate}\n                      className=\"bg-blue-100 hover:bg-blue-200 text-blue-700 px-6 py-3 rounded-xl font-medium transition-all duration-300 border-2 border-blue-300\"\n                    >\n                      🎯 Recalibrate\n                    </button>\n                    <button \n                      onClick={() => {\n                        const recommendedSize = recommendTopSize(meas.chestCm, meas.upperWaistCm, meas.shoulderCm);\n                        if (recommendedSize) {\n                          // Pass all measurement data to recommendations page\n                          const measurementData = encodeURIComponent(JSON.stringify({\n                            size: recommendedSize,\n                            gender: 'Men',\n                            measurements: {\n                              chestCm: meas.chestCm,\n                              shoulderCm: meas.shoulderCm,\n                              upperWaistCm: meas.upperWaistCm\n                            }\n                          }));\n                          window.location.href = `/recommendations?data=${measurementData}`;\n                        }\n                      }}\n                      className=\"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-xl font-medium transition-all duration-300 shadow-lg\"\n                    >\n                      ✨ Get Recommendations\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </MediaPipeErrorBoundary>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}